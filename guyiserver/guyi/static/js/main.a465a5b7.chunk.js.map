{"version":3,"sources":["comp/Functions.js","comp/Outline.js","comp/util/TreeView.js","comp/Events.js","comp/Screen.js","comp/Modules.js","comp/Exports.js","comp/Libraries.js","comp/Manager.js","comp/Preview.js","comp/ExModules.js","comp/ReModules.js","comp/TestFormat.js","comp/IconWrapper.js","comp/subcomp/ToolsMenu.jsx","comp/subcomp/ExModUpload.jsx","reportWebVitals.js","index.js","comp/Widgets.js","comp/util/EnterInput.js","comp/util/data.js","comp/util/store.js","comp/Comp.js","comp/subcomp/BaseComps.jsx","comp/Resources.js","comp/Properties.js","comp/util/Tab.js"],"names":["loader","config","paths","vs","set","global","store","get","window","codeChangeEvent","Event","Functions","app","setApp","useState","classCode","code","setCode","test","setTest","minimap","setMinimap","saveCode","tmpApp","dispatchEvent","testMethod","getCodeClass","instance","e","console","log","methods","onKeyDown","ctrlKey","key","stopPropagation","preventDefault","style","position","height","display","flexDirection","value","onChange","newCode","theme","path","name","defaultLanguage","options","enabled","top","right","type","checked","target","map","m","color","onClick","copiedTrees","alltypes","dataBasic","dataHtml","iconObject","forEach","t","React","cloneElement","icon","size","getOutlineData","id","tree","used","includes","split","node","label","nodes","item","ids","val","indexOf","props","p","extras","push","Array","isArray","length","getIds","n","Outline","selected","info","setInfo","copyId","setCopyId","disMes","mes","setTimeout","data","extData","unused","filter","c","ind","roots","consumed","treeviews","start","tv","splice","r","getExt","deleteComp","backgroundColor","borderRadius","action","onAction","ctree","JSON","parse","stringify","message","desc","Date","getHours","getMinutes","getSeconds","unshift","borderTop","marginTop","width","textAlign","borderBottom","drag","actionIcon","alignItems","i","index","slice","deleteCopied","pos","undefined","dups","getDups","join","tmpTree","TreeView","Row","tabs","savedOpen","treeData","savedopen","open","rawsetOpen","marginLeft","draggable","onDragStart","dataTransfer","setData","className","isOpen","sOpen","transform","transition","setOpen","visibility","alignSelf","getRows","rows","newPath","basicComps","d","concat","EventRow","event","view","events","current","getName","justifyContent","placeholder","choice","tmpView","Events","eventTypes","funcs","typeNames","localSize","localScroll","Screen","children","setSize","scroll","setScroll","title","zIndex","padding","border","onResizeStop","dirc","ref","newSize","dbasic","b","dhtml","Modules","changeApp","setName","status","setStatus","modules","ms","add","tname","trim","remodules","tmpNewApp","newApp","module","Module","mod","anchor","useRef","onDragOver","onDrop","rearange","marginBottom","fontSize","anchorEl","onClose","anchorOrigin","vertical","horizontal","onEnter","rename","duplicate","deletem","oldName","parts","tmpMod","getData","names","go","borderWidth","margin","MSelect","InputBox","setType","comp","parseInt","startsWith","substring","onChangeComplete","col","hex","lname","ltype","lvalue","setProps","remove","rawsetType","setValue","typ","prop","Exports","update","localPT","localET","row","def","len","pt","Libraries","Files","FilePrev","file","files","f","by","flexWrap","setStartId","isNaN","created","getKeys","a","Object","keys","localStorage","pr","time","toDateString","LocalForage","setItem","removeItem","k","getItem","Manager","setFull","layout","setLayout","runScripts","mesInfo","connect","connected","onOpen","onSave","toolsProps","delmod","setDelmod","withRes","setWithRes","openLogs","setOpenLogs","projoFile","onDelete","getOptions","loadFromDisk","text","cd","appData","Error","comps","Math","floor","getSize","openFile","setOpenFile","FileMenu","maxWidth","blob","Blob","File","document","createElement","download","href","URL","createObjectURL","click","saveToDisk","variant","onKeyPress","v","accept","Credits","component","newLay","new","old","state","paddingLeft","paddingRight","locals","Alert","fontWeight","showCred","minHeight","rel","dangerouslySetInnerHTML","__html","htmlCred","src","alt","rootUrl","endsWith","Preview","mutApp","setState","currentDrag","setDrag","fullView","left","FileModules","close","setModules","FMod","fileChanged","allArrays","random","Header","setUpload","search","setText","closeFile","marginRight","ExModules","searchResult","rawSetData","isUpload","upload","rawsetUpload","loading","newData","ModuleItem","crtEmail","creator","preview","prev","deps","asModule","save","saveReMod","saveMod","fetch","method","body","do","res","depNames","clash","fnames","fclash","tmpD","defaultSize","flex","doc","query","getPreviews","messsage","data1","tmpData","ReModules","ModItem","mainRemods","THREE","html","htm","bind","css","keyframes","cx","injectGlobal","resTab","colFuncs","prevSize","screenSize","fresult","meta","compsView","x","process","platform","user","loadedScripts","url","run","Function","func","head","appendChild","styleSheet","stylesheet","cssText","createTextNode","propTypes","propT","eventT","CompSmall","off","setOff","reload","useEffect","addEventListener","removeEventListener","TestFormat","_setApp","setView","appState","setAppState","isFullScreen","setIsFullScreen","tabPos","setTabPos","setConnected","savedLayout","timeEnd","duration","saveLayout","shortCutsWrap","shortCuts","setPropsEvents","types","et","setProp","tmpProps","mnames","m_pos","fetchApp","adress","initApp","setReloadApp","changeSync","isConnected","editScreen","secondaryInitialSize","primaryIndex","bakgroundcolor","setPos","localProps","localPropTypes","layout2","CodeLayout","setPrev","heigth","LogsContainer","logs","setLogs","show","setShow","h","setH","Hook","currLogs","Unhook","bottom","micons","md","ficons","fa","bicons","bi","IconWrapper","sch","setSch","mresIcons","ic","toLowerCase","fresIcons","bresIcons","allIcons","Search","optSrc","setOptSrc","onBlur","Drag","placement","TabPanel","ToolsMenu","adr","setAdr","no","setNo","setIndex","sync","setSync","wsinfo","readOnly","dBasic","dHtml","usedFiles","Upload","_setMod","setDoc","author","setAuthor","secretKey","setSecretKey","uploadModule","depsMods","missing","deepDeps","rnames","resFiles","req","email","exits","deleted","getDeepDeps","getDeps","compsOnly","basicMods","callGetDeepDeps","gotDeps","getUsedFiles","moduleName","loc_deps","loc_deepDeps","allDeps","cnames","ManualFiles","_setFiles","ff","tmpFiles","setFiles","overflow","controls","maxHeight","reduce","s","toFixed","setMod","paddingTop","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","dropped","readDataUrl","Promise","rej","reader","FileReader","onload","result","onerror","readAsDataURL","urlText","ReactDOM","render","StrictMode","isFile","getElementById","Wid","Widgets","EnterInput","args","inst","mergeState","tmpState","tiePS","defValue","locTree","pts","pnames","ppos","getRef","dontWrap","usedRefs","getFile","fpos","fileNames","filePos","toFile","dataurl","arr","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","getState","reactClass","getProps","getEvents","getExtras","parentData","getp","getOwnPropertyNames","__proto__","reverse","warn","cb","cb2","schema","Number","reloadno","layoutstate","lastsave","lastopen","toolsindex","toolssync","consoleheight","consoleopen","lasttest","mipmapopen","restype","wsRef","send","uploadApp","typeNo","ws","WebSocket","onclose","onopen","onmessage","shiftKey","importOldProjos","drawComp","slData","dynamic","dynamicCount","resources","createRef","getEvent","class","drawChilds","childs","child","tree_id","rpos","styleProps","styles","backImage","backgroundImage","center","ondblClick","tmp","Template","obj","mapKeys","compiled","allmodules","modNames","ext","Extras","dynComp","modTree","Comp","Routes","dataObj","anony","Set","Html","Width","Height","Child","Color","during","During","autoPlay","autoplay","reactComp","isValidElement","dnames","renames","clicked","Size","MButton","Variant","disabled","Disabled","disableElevation","Elevation","Value","MTextField","Label","Type","error","multiline","Multiline","select","Select","Margin","helperText","HelperText","Source","MAvatar","Alt","MBadge","badgeContent","invisible","Invisible","showZero","ShowZero","badgeOverLap","Overlap","Vertical","Horizontal","avatar","MChip","MTooltip","Placement","arrow","Arrow","Open","interactive","Interactive","leaveDelay","LeaveDelay","MTypography","align","Align","Display","gutterBottom","GutterBottom","noWrap","NoWrap","MCProgress","MLProgress","valueBuffer","ValueBuffer","MDialog","fullScreen","FullScreen","MaxWidth","MSnackbar","autoHideDuration","HideAfter","Message","MPaper","elevation","square","Square","MCard","MSwitch","Name","MSlider","defaultValue","DefaultValue","step","Step","marks","Marks","orientation","Orientation","min","Min","max","Max","valueLabelDisplay","LabelOn","MFab","MCheckbox","defaultChecked","DefaultChecked","indeterminate","Indeterminate","MRadio","MFormCL","control","labelPlacement","MLink","Href","underline","Underline","Values","updateApp","createCount","renderCount","isInit","propsEvents","classInst","guyiInit","this","runMagicFunc","initIndex","pk","setEvents","pd","values","entries","guyiUpdate","getParentData","Component","classes","Button","forwardRef","onDbClick","onDoubleClick","Column","Image","Text","View","centerProps","borderTopleftRadius","borderTopRightRadius","borderBottomleftRadius","borderBottomRightRadius","paddingBottom","borderLeft","borderRight","ErrorBoundary","hasError","err","updateRun","eval","diplay","HTMLStyleElement","Resources","all","setAll","useSmall","setUseSmall","rawsetSearch","setSearch","allfiles","FileRow","changeName","dragger","ceil","lastIndexOf","isDup","fontStyle","drop","multiple","getStats","ResultRow","replaceAll","cursor","medium","objectFit","photographer","PAFetch","headers","catch","PGFetch","rawsetData","rawsetMeta","getPage","page","URLSearchParams","photos","newMeta","saveAll","selPics","addedFiles","skippedFiles","pic","skipped","added","nextPrev","SaveRow","MSelectWrap","Pm","others","onLeave","onMouseLeave","scolor","setColor","istext","setIstext","minWidth","SelectWrap","dropText","NumberInput","Bool","handleDiameter","Json","onValueChange","highlight","languages","js","fontFamily","setHtml","Comps","passChild","Insert","deletec","tmpChilds","opos","npos","oldId","passId","Res","isText","setIsText","resType","setResType","sort","resArea","Conditional","cond","setCond","condChange","dataWrap","chidren","keyNo","MapData","isJson","setIsJson","propList","propType","ptys","newPos","oldPos","oldData","rearangeRows","Properties","showIdRow","IdRow","changeId","oid","setId","newId","nid","part","fields","bool","opt","vals","typeOps","setFields","scrollData","Tab","statepos","rawsetPos","realPos","tab","tabRef","onscroll","scrollTop","Title","bkcolor","idx"],"mappings":"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","file":"static/js/main.a465a5b7.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport Editor,{loader} from '@monaco-editor/react'\r\nimport Select from '@material-ui/core/Select'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { getCodeClass } from './util/data'\r\n//import reactTypes from './react.d.ts'\r\n\r\nloader.config({\r\n    paths:{\r\n        vs:'/vs'\r\n    }\r\n})\r\nconst set = global.store.set\r\nconst get = global.store.get\r\nwindow.codeChangeEvent = new Event('codechange')\r\nconst Functions = ({ app, setApp }) => {\r\n    const [code, setCode] = useState(app[0].classCode || '')\r\n    const [test, setTest] = useState(get('lasttest'))\r\n    const [minimap, setMinimap] = useState(get('mipmapopen'))\r\n\r\n    const updateCode = (newCode) => {\r\n        setCode(newCode)\r\n    }\r\n    const keyDown = (e) => {\r\n        if (e.ctrlKey) {\r\n            switch (e.key) {\r\n                case 's':\r\n                case 'S':\r\n                    saveCode()\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    break\r\n                case 'r':\r\n                case 'R':\r\n                    testMethod()\r\n                    e.stopPropagation()\r\n                    e.preventDefault()\r\n                    break\r\n\r\n                default:\r\n                    break\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n    const saveCode = () => {\r\n        let tmpApp = [...app]\r\n        tmpApp[0].classCode = code\r\n        window.dispatchEvent(window.codeChangeEvent)\r\n        setApp(tmpApp)\r\n    }\r\n    const testMethod = () => {\r\n        try {\r\n            let inst = getCodeClass(code).instance\r\n            inst[test]()\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n   \r\n    let methods = getCodeClass(code).methods\r\n    return (\r\n        <div onKeyDown={keyDown}\r\n            style={{ position: 'relative', height: '100%', display: 'flex', flexDirection: 'column' }}\r\n        >\r\n            <Editor\r\n                value={code}\r\n                onChange={updateCode}\r\n                theme='vs-dark'\r\n                path={app[0].name}\r\n                defaultLanguage='javascript'\r\n                height={\"100vh\"}\r\n                options={{ minimap: { enabled: minimap } }}\r\n            />\r\n            <div style={{ position: 'absolute', top: 0, right: 0 }} >\r\n                <input type='checkbox' checked={minimap} onChange={(e) => set('mipmapopen', e.target.checked, setMinimap)} />\r\n                <Select value={test} onChange={(e) => set('lasttest', e.target.value, setTest)} >\r\n                    {methods.map(m => <MenuItem key={m} value={m} ><div style={{ color: 'blue' }}>{m}</div></MenuItem>)}\r\n                </Select>\r\n                <button onClick={testMethod} >Test</button>\r\n                <button onClick={saveCode} >Save .</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Functions\r\n","import React, { useState } from 'react'\nimport TreeView from './util/TreeView'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport {\n MdDashboard, MdInsertEmoticon, MdDeleteForever,\n} from 'react-icons/md'\n\nimport {dataBasic,dataHtml} from './Widgets'\n\nglobal.copiedTrees = []\n\nconst size = 18, color = 'red';\n\nconst alltypes = [...dataBasic, ...dataHtml]\nconst iconObject = {}\nalltypes.forEach(t => {\n    iconObject[t.name] = React.cloneElement(t.icon,{size,color})\n})\n\nconst getOutlineData = (id, tree, used) => {\n    id = id.includes(',') ? id.split(',')[1] : id\n    let node = { label: `${id}(failed)`, nodes: [], item: tree[1] }\n    let ids = tree.map(val => val.id);\n    let item = tree[ids.indexOf(id)]\n    if (item) {\n        let props = item.props;\n        node.label = item.id;\n        node.item = item;\n        node.icon = iconObject[item.name] || (item.extras ? <MdInsertEmoticon size={size} color={color} /> :\n            <MdDashboard size={size} color={color} />)\n        used.push(item.id)\n        for (let p in props) {\n            if (Array.isArray(props[p]) && props[p].length > 0 && typeof props[p][0] === 'string') {\n                props[p].forEach(val => {\n                    node.nodes.push(getOutlineData(val, tree, used))\n                })\n            }\n        }\n    }\n    return node;\n\n}\nconst getExt = (tree, used) => {\n    let unused = tree.filter((c, ind) => ind !== 0 && !used.includes(c.id))\n    let roots = unused.map(c => c.id)\n    let consumed = []\n    let treeviews = []\n    unused.forEach(c => {\n        let start = consumed.length\n        if (consumed.includes(c)) {\n            return\n        }\n        let tv = getOutlineData(c.id, tree, consumed)\n        treeviews.push({ id: c.id, tree: tv })\n        consumed.splice(start, 1)\n\n    })\n    roots = roots.filter(r => !consumed.includes(r))\n    treeviews = treeviews.filter(t => roots.includes(t.id))\n    return treeviews.map(t => t.tree)\n}\nconst getIds = (node, tree = []) => {\n    let ids = []\n\n    if (node.item) {\n        ids.push(node.item.id)\n        tree.push(node.item)\n        if (Array.isArray(node.nodes)) {\n            node.nodes.forEach(n => {\n                ids.push(...getIds(n, tree))\n            })\n        }\n    }\n    return ids\n}\n\nconst Outline = ({ id, tree, onClick, style, selected, setApp }) => {\n    const [info, setInfo] = useState('')\n    const [copyId, setCopyId] = useState(null)\n    const disMes = (mes) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), 5000)\n    }\n    let used = []\n    let data = [getOutlineData(id, tree, used)]\n    let extData = getExt(tree, used)\n    const deleteComp = (node) => {\n        let used = []\n        getOutlineData(node.item.id, tree, used)\n        let tmpApp = [...tree]\n        tmpApp = tmpApp.filter((c, ind) => ind === 0 || !used.includes(c.id))\n        setApp(tmpApp)\n\n    }\n    const copyTree = (node, path) => {\n        let ctree = []\n        let ids = getIds(node, ctree)\n        try {\n            ctree = JSON.parse(JSON.stringify(ctree))\n        } catch (e) {\n            console.log('Copy failed', e.message);\n            disMes('Could Not copy tree')\n            return\n        }\n        let data = { ids, tree: ctree, desc: `${(new Date()).getHours()}:${(new Date()).getMinutes()}.${(new Date()).getSeconds()} ${tree[0].name} ${ctree[0].id}` }\n        global.copiedTrees.unshift(data)\n        disMes('Copied Tree : ' + data.desc)\n\n    }\n    const pasteTree = () => {\n        let pos = copyId\n        if (global.copiedTrees[pos] === undefined) {\n            disMes('No data here')\n            return\n        }\n        let ctree = JSON.parse(JSON.stringify(global.copiedTrees[pos]))\n        let ids = tree.map(c => c.id)\n        const getDups = (ids) => {\n            let dups = []\n            ids.forEach(id => {\n                if (ctree.tree.map(c => c.id).includes(id)) {\n                    dups.push(id)\n                }\n            })\n            return dups\n        }\n        let dups = getDups(ids)\n        if (dups.length > 0) {\n            disMes(`Id clashes : \"${dups.join(', ')}\"`)\n            let cont = false //window.confirm(`${dups.join(', ')}exist.\\nRename and paste here?`)\n            if (!cont) {\n                return\n            } else {\n                // let no = 0\n                // while (true) {\n                //     let renamed = dups.map(d => d + '-1')\n                //     let ndups = getDups(renamed)\n                //     dups.forEach((c,i)=>replaceId(ctree.tree,c,renamed[i]))\n                //     no++\n                //     dups=ndups\n                //     if (ndups.length === 0) {\n                //         console.log('runned', no,ctree)\n                //         break\n                //     }\n                //     if(no>12){\n                //         console.log('infinite',no)\n                //         break\n                //     }\n                // }\n            }\n        }\n        let tmpTree = [...tree]\n        tmpTree.push(...ctree.tree)\n        setApp(tmpTree)\n        disMes(`Tree pasted ${ctree.length} new Comps`)\n\n    }\n    const deleteCopied = (e, index) => {\n        e.stopPropagation()\n        global.copiedTrees = global.copiedTrees.slice(0, index)\n        if (copyId > index - 1) setCopyId(null)\n        disMes('Cleared Items')\n    }\n    return (\n        <div /*style={{ position: 'relative' }} */ >\n            <div style={{ position: 'absolute', top: 3, right: 3, backgroundColor: 'black', color: 'white', borderRadius: 4 }} >{info}</div>\n            <TreeView data={data} onClick={onClick} style={style} selected={selected} tree={tree}\n                action={true}\n                onAction={copyTree}\n            />\n            <div style={{ borderTop: '2px solid grey', marginTop: 10 }} >\n                <div style={{ width: '100', textAlign: 'center', borderBottom: '1px solid lavender' }}>\n                    Extraneous Comps\n                </div>\n                {extData.map(t => {\n                    return (\n                        <TreeView key={t.label} data={[t]} onClick={onClick} action={true} tree={tree}\n                            onAction={deleteComp} drag={true} actionIcon={<MdDeleteForever size={size} color={color} />}\n                        />\n                    )\n                })}\n            </div>\n            <div style={{ borderTop: '2px solid grey', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <div >Paste copied </div>\n                <Select value={copyId === null ? '' : copyId} onChange={(e) => setCopyId(e.target.value)} >\n                    {global.copiedTrees.map((t, i) => <MenuItem value={i} >\n                        <div>{t.desc}<MdDeleteForever onClick={(e) => deleteCopied(e, i)} /></div>\n                    </MenuItem>)}\n                </Select>\n                <button onClick={pasteTree} >Paste</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Outline\n//vim tisu apik\n","import React, { useState } from 'react'\nimport { MdExpandMore, MdDeleteForever } from 'react-icons/md'\n\nconst TreeView = ({ data = [], tree, style, onClick = () => { }, drag = false, onAction = () => { },\n    selected = '', action = false, actionIcon = false }) => {\n\n    const Row = ({ node, tabs, path }) => {\n        let savedOpen = global.treeData[tree[0].name + node.label]\n        let savedopen = savedOpen === undefined ? true : savedOpen\n        const [open, rawsetOpen] = useState(savedopen)\n        const setOpen = (open) => {\n            rawsetOpen(open)\n            global.treeData[tree[0].name + node.label] = open\n        }\n        return (\n            <div style={{ marginLeft: tabs * 5, }}>\n                <div draggable={drag} onDragStart={drag ? (e) => e.dataTransfer.setData('text', node.label + ',no') : undefined}\n                    className='outlineRow' key={node.label} style={{ display: 'flex' }}\n                    onClick={() => {\n                        node.isOpen = !node.sOpen;\n                        onClick(node, path)\n                    }}>\n                    <div className='expandRow' style={{ transform: open ? 'rotate(2deg)' : 'rotate(-90deg)', transition: 'transform 0.7s' }}\n                        onClick={(e) => { e.stopPropagation(); setOpen(!open) }} >\n                        <MdExpandMore style={{ visibility: node.nodes && node.nodes[0] ? 'visible' : 'hidden' }} />\n                    </div>\n                    <div style={{ width: '100%', backgroundColor: selected === node.label ? 'khaki' : '',display:'flex' }} >{node.label}</div>\n                    {action && <div style={{ alignSelf: 'flex-end',display:'flex' }}\n                        onClick={(e) => {\n                            e.stopPropagation()\n                            onAction(node, path)\n                        }} >\n                        {node.icon}\n                        { actionIcon}\n                        {!actionIcon && !node.icon && <MdDeleteForever size={20} color='blue' />}\n                    </div>}\n                </div>\n                {\n                    open && node.nodes &&\n                    getRows(node.nodes, tabs + 1, path)\n                }\n            </div>\n        )\n\n    }\n    const getRows = (nodes, tabs = 0, path = '') => {\n        let rows = [];\n        nodes.forEach(val => {\n            let newPath=path + '/' + val.label\n            rows.push(<Row key={newPath} node={val} tabs={tabs} path={newPath} />)\n        })\n        return rows\n    }\n    return (\n        <div style={style} >\n            {getRows(data, 0)}\n        </div>\n    )\n}\n\n\nexport default TreeView\n\n\n","import React from 'react'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { getCodeClass } from './util/data'\nimport { dataHtml, dataBasic } from './Widgets'\n\nconst basicComps = dataHtml.map(d => d.name).concat(dataBasic.map(d => d.name))\n\nconst EventRow = ({ event = {}, view = {}, setApp, app }) => {\n    if (!view.events) view.events = {}\n    let options = getCodeClass(app[0].classCode || '').methods\n    options.unshift('none')\n    const getName = () => {\n        let n = view.events[event.name] || view.events[`${app[0].name},${event.name}`] || 'none'\n        if (n.includes(',')) {\n            n = n.split(',')[1]\n        }\n        return n\n    }\n    let current = getName()\n\n    const onChange = (choice) => {\n        let tmpApp = [...app]\n        let tmpView = { ...view }\n        if (choice === 'none') {\n            tmpView.events[event.name] = null\n        } else {\n            if (basicComps.includes(view.name)) {\n                tmpView.events[event.name] = choice\n            } else {\n                tmpView.events[`${app[0].name},${event.name}`] = choice\n            }\n        }\n        let ids = tmpApp.map(c => c.id)\n        let pos = ids.indexOf(view.id)\n        if (pos !== -1) {\n            tmpApp[pos] = tmpView\n        }\n        setApp(tmpApp)\n    }\n    return (\n        <div style={{ display: 'flex', borderTop: '1px solid grey', justifyContent: 'space-between' }}>\n            <div>{event.name}</div>\n            <Select value={current} placeholder=\"Function \" onChange={(e) => onChange(e.target.value)}>\n                {options.map(m => <MenuItem value={m}>{m}</MenuItem>)}\n            </Select>\n        </div>\n    )\n}\n\n\nconst Events = ({ eventTypes = [], view = {}, funcs = [], setApp, app }) => {\n\n    let typeNames = eventTypes.map(val => val.name);\n    if (typeNames.includes(view.name)) {\n        let events = eventTypes[typeNames.indexOf(view.name)].events\n        return (\n            <div>\n                {events.map(event => {\n                    return (\n                        <EventRow event={event} funcs={funcs} view={view} setApp={setApp} app={app} />\n                    )\n                })}\n            </div>\n        )\n    }\n    else {\n        return (\n            <div>\n                <div>No events for this Comp</div>\n            </div>\n        )\n    }\n}\n\nexport default Events\n","import React, { useState } from 'react'\nimport { Resizable } from 're-resizable'\nimport { Scrollbars } from 'react-custom-scrollbars'\n\nimport Tooltip from '@material-ui/core/Tooltip'\n\nlet localSize = { width: 300, height: 400 }\nlet localScroll = false\n\nconst Screen = ({ children }) => {\n    const [size, setSize] = useState(localSize)\n    const [scroll, setScroll] = useState(localScroll)\n    const resize = (e, dirc, ref, d) => {\n        let newSize = { width: size.width + d.width, height: size.height + d.height }\n        localSize = newSize\n        setSize(newSize)\n\n    }\n    const changeScroll = (val) => {\n        localScroll = val\n        setScroll(val)\n\n    }\n\n    return (\n        <div style={{\n            width: '100%', height: '100%', display: 'flex', position: 'relative',\n            justifyContent: 'center', alignItems: 'center',\n\n        }}>\n            <Tooltip title='Clip To work space' >\n                <input style={{ position: 'absolute', top: 3, right: 3, zIndex: 100 }}\n                    type='checkbox' value={scroll} onChange={(e) => changeScroll(e.target.checked)}\n                />\n            </Tooltip>\n            <Resizable\n                size={size}\n                style={{ padding: 5, border: '1px dashed blue', }}\n                onResizeStop={resize}\n            >\n                {scroll &&\n                    <Scrollbars style={{ width: '100%', height: '100%' }} >\n                        {children}\n                    </Scrollbars>}\n                {!scroll && children}\n            </Resizable>\n        </div>\n    )\n}\n\nexport default Screen\n","import React, { useState, useRef } from 'react'\nimport { MdDelete, MdSave, MdMoreVert } from 'react-icons/md'\nimport { BiDuplicate } from 'react-icons/bi'\nimport Popover from '@material-ui/core/Popover'\nimport EnterInput from './util/EnterInput'\nimport { dataBasic, dataHtml } from './Widgets'\nimport { newApp } from './util/store'\n\nconst dbasic = dataBasic.map(b => b.name)\nconst dhtml = dataHtml.map(b => b.name)\nconst Modules = ({ app = [], changeApp, setApp }) => {\n    const [name, setName] = useState('');\n    const [status, setStatus] = useState('');\n    let modules = global.modules\n    const disMes = (mes, ms = 5000) => {\n        setStatus(mes);\n        setTimeout(() => setStatus(''), ms)\n    }\n    const add = () => {\n        let tname = name.trim();\n        if (tname.length < 3) {\n            disMes('Name too short');\n            return;\n        }\n        if (tname.includes(' ') || tname.includes(',')) {\n            disMes('Spaces or commas not allowed');\n            return\n        }\n        let basicMods = [...dbasic, ...dhtml]\n        if (basicMods.includes(tname)) {\n            disMes('Basic Comp name')\n            return\n        }\n        let cnames = global.modules.map(m => m[0].name)\n        if (cnames.includes(tname)) {\n            disMes('Name in use by a Component')\n            return\n        }\n        let mnames = global.remodules.filter(m => m[0].type === 'main').map(m => m[0].name)\n        if (mnames.includes(tname)) {\n            disMes('Name in use by a Module')\n            return\n        }\n        let mdnames = global.remodules.filter(m => m[0].type !== 'main').map(m => m[0].name)\n        if (mdnames.includes(tname)) {\n            disMes('Name in use by a Dependency')\n            return\n        }\n\n        let tmpNewApp = JSON.parse(JSON.stringify(newApp))\n        tmpNewApp[0].name = name\n        let module = tmpNewApp\n        modules.push(module);\n        setName('');\n\n\n    }\n    const deletem = (e, index) => {\n        if (modules.length === 1) {\n            disMes('Leave one component')\n            return\n        }\n        e.stopPropagation();\n        modules.splice(index, 1)\n        let names = modules.map(m => m[0].name)\n        let pos = names.indexOf(app[0].name)\n        if (pos === -1) pos = 0\n        setApp([...modules[pos]])\n\n    }\n    const Module = ({ mod, index }) => {\n        const [open, setOpen] = useState(false)\n        const [name, setName] = useState(mod[0].name)\n        const anchor = useRef()\n\n        return (\n            <div draggable={true}\n                onDragOver={(e) => e.preventDefault()}\n                onDrop={(e) => rearange(e, index)}\n                style={{\n                    display: 'flex', justifyContent: 'space-between', borderTop: '2px solid grey', marginBottom: 2,\n                    backgroundColor: mod[0].name === app[0].name ? 'khaki' : '',\n                }}\n                onClick={() => changeApp(index)}\n                onDragStart={(e) => e.dataTransfer.setData('text', mod[0].name)}\n            >\n                <div style={{ position: 'relative' }}>\n                    <div style={{ color: 'purple', fontSize: 20 }} >{mod[0].name}</div>\n                </div>\n                <div ref={anchor} >\n                    <MdMoreVert size={20} color='purple'\n                        onClick={(e) => { setOpen(true); e.stopPropagation() }}\n                        style={{ padding: \"0px 2px\", border: '1px solid purple' }}\n                    />\n                    <Popover anchorEl={anchor.current} open={open}\n                        onClose={() => setOpen(false)}\n                        anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n                    >\n                        <div style={{ display: 'flex' }} onClick={(e) => e.stopPropagation()} >\n                            <EnterInput type='text' value={name} onChange={(e) => setName(e.target.value)}\n                                onEnter={() => rename(name, index)} />\n                            <MdSave size={20} color='blue' onClick={() => rename(name, index)} />\n                            <BiDuplicate size={20} color='blue' onClick={() => duplicate(name, index)} />\n                            <MdDelete size={20} color='blue' onClick={(e) => deletem(e, index)} />\n                        </div>\n                    </Popover>\n                </div>\n            </div>\n        )\n    }\n    const rename = (name, index) => {\n        let basicMods = [...dbasic, ...dhtml]\n        if (basicMods.includes(name)) {\n            disMes('Name taken by basic Comp')\n            return;\n        }\n        let mnames = global.modules.map(m => m[0].name)\n        if (mnames.includes(name)) {\n            disMes('Name Taken by component')\n            return\n        }\n        let rmnames = global.remodules.map(m => m[0].name)\n        if (rmnames.includes(name)) {\n            disMes(`Name Taken by Module/Module Dependency`)\n            return\n        }\n        let oldName = global.modules[index][0].name\n        global.modules.forEach(m => {\n            m.forEach(c => {\n                if (c.name === oldName) {\n                    c.name = name\n\n                }\n                if (c.props) {//rename renderred children\n                    for (let p in c.props) {\n                        if (Array.isArray(c.props[p])) {\n                            c.props[p].forEach((d, i) => {\n                                if (typeof d === 'string' && d.includes(',')) {\n                                    let parts = d.split(',')\n                                    if (parts[0] === oldName) {\n                                        c.props[p][i] = `${name},${parts[1]}`\n                                    }\n                                }\n\n                            })\n                        }\n                    }\n                }\n            })\n        })\n        global.modules[index][0].name = name\n        disMes('Name Changed ')\n\n    }\n    const duplicate = (name, index) => {\n        let tmpMod = JSON.parse(JSON.stringify(global.modules[index]))\n        if (name === tmpMod[0].name) {\n            name = name + '-copy'\n        }\n        let allNames = global.modules.map(m => m[0].name).concat(global.remodules.map(m => m[0].name))\n        if (allNames.includes(name)) {\n            disMes('Name taken')\n            return\n        }\n        tmpMod[0].name = name\n        global.modules.push(tmpMod)\n        disMes('Created duplicate')\n\n    }\n    const rearange = (e, index) => {\n        let data = e.dataTransfer.getData('text')\n        e.preventDefault()\n        let names = modules.map(m => m[0].name)\n        if (data && names.includes(data)) {\n            let pos = names.indexOf(data)\n            if (pos !== index) {\n                let start = pos\n                let go = index\n                if (start < go) {\n                    modules.splice(go + 1, 0, modules[start])\n                    modules.splice(start, 1)\n                } else if (start > go) {\n                    modules.splice(go, 0, modules[start])\n                    modules.splice(start + 1, 1)\n                }\n                disMes(data + ' moved', 600)\n            }\n        }\n\n    }\n    return (\n        <div>\n            {modules.map((mod, index) => {\n                return (\n                    <Module key={mod[0].name} mod={mod} index={index} />\n                )\n            })}\n            <div style={{ border: '1px solid black', display: 'flex', flexDirection: 'column', alignItems: 'center' }} >\n                <EnterInput type='text' value={name} placeholder='Name' style={{ width: '100%', borderWidth: 0, margin: 2 }}\n                    onChange={(e) => { setName(e.target.value) }}\n                    onEnter={add}\n                />\n                <button onClick={add} >ADD</button>\n                <div>{status}</div>\n            </div>\n        </div>\n    )\n}\n\nexport default Modules\n","import React, { useState } from 'react'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Switch from 'react-switch'\nimport { ChromePicker } from 'react-color'\nimport { MdDelete } from 'react-icons/md'\n\nimport { Json, Html } from './Properties'\n\nconst MSelect = ({ options, onChange, value }) => {\n    return (\n        <Select value={value} onChange={(e) => onChange(e.target.value)}>\n            {options.map(m => <MenuItem value={m}>{m}</MenuItem>)}\n        </Select>\n    )\n}\n\nconst InputBox = ({ type, onChange, value, setType }) => {\n    const [open, setOpen] = useState(true);\n    let comp = <p>NO EDIT OF TYPE</p>\n    if (type === 'text') {\n        comp = <input type='text' value={value} onChange={(e) => onChange(e.target.value)} />\n    }\n    if (type === 'number') {\n        comp = <input type='number' value={value} onChange={(e) => {\n            let val = e.target.value;\n            try {\n                val = parseInt(val);\n            } catch (e) {\n                val = 0;\n            }\n            onChange(val);\n\n        }} />\n    }\n    if (type.startsWith('select')) {\n        comp = <input value={type.substring(7) || ''} onChange={(e) => {\n            setType('select,' + e.target.value)\n\n        }} />\n    }\n    if (type === 'bool') {\n        comp = <Switch checked={value} onChange={onChange} />\n    }\n    if (type === 'color') {\n        comp = (<div>\n            <div style={{ display: 'flex' }}>\n                <p style={{ margin: 0 }}>Open Picker </p>\n                <input type='checkbox' width={120} checked={open} onChange={e => setOpen(e.target.checked)} />\n            </div>\n            {open && <ChromePicker color={value} onChangeComplete={col => onChange(col.hex)} />}\n        </div>)\n    }\n    if (type === 'comps') {\n        comp = <p>Set By code/editor</p>\n    }\n    if (type === 'comp') {\n        comp = <p>Set By code/editor</p>\n    }\n    if (type === 'children') {\n        comp = <p>Set By code/editor</p>\n    }\n    if (type === 'child') {\n        comp = <p>Set By code/editor</p>\n    }\n\n    if (type === 'json') {\n        comp = <Json name='EDIT JSON' value={value} onChange={onChange} title={false} />\n    }\n    if (type === 'html') {\n        comp = <Html name='EDIT HTML' value={value} onChange={onChange} title={false} />\n    }\n    if (type === 'event') {\n        comp = <MSelect options={['undefined', '()=>{ }']} value={value} onChange={onChange} />\n    }\n    if (type.startsWith('mapdata')) {\n        const changed=(d)=>{\n            setType('mapdata,'+JSON.stringify(d))\n}\n        let val=type.split('mapdata,')[1]\n        comp=    <Json name='EDIT MAPDATA' value={val} onChange={changed} title={false}  />\n\n    }\n    if (type === 'res') {\n        comp = <input type='text' value={value} onChange={(e) => onChange(e.target.value)} />\n    }\n\n    return comp;\n\n}\n\nconst Row = ({ lname, ltype, lvalue, index, setProps, remove }) => {\n    const [name, setName] = useState(lname)\n    const [type, rawsetType] = useState(ltype)\n    const [value, setValue] = useState(lvalue)\n\n    const setType = (typ) => {\n        rawsetType(typ)\n        switch (typ) {\n            case 'child':\n            case 'children':\n            case 'comps':\n            case 'comp':\n                setValue(undefined)\n                break;\n            case 'mapdata':\n                setValue([])\n                break;\n            default:\n                break;\n        }\n    }\n\n    setProps(index, { name, prop: name, type, value });\n\n    let opts = ['text', 'number', 'color', 'select', 'bool','res', 'child', 'children', 'json', 'mapdata', 'html', 'event'];\n    let onChange = (val) => {\n        setValue(val)\n        setProps(index, { name, prop: name, type, value })\n    }\n    return (\n        <tr >\n            <td>\n                <input type='text' value={name} onChange={(e) => {\n                    setName(e.target.value); setProps(index, { name, prop: name, type, value })\n                }} style={{ width: 80 }}\n                />\n            </td>\n            <td>\n                <MSelect value={type.startsWith('select') ? 'select' : type.startsWith('mapdata') ? 'mapdata' : type}\n                    options={opts} onChange={(val) => {\n                        setType(val); setProps(index, { name, prop: name, type, value })\n                    }}\n                />\n            </td>\n            <td>\n                <InputBox value={value} onChange={onChange} type={type} setType={setType} />\n            </td>\n            <td>\n                <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                    onClick={(e) => remove(index)}\n                >\n                    <MdDelete size={20} color='blue' />\n                </div>\n            </td>\n        </tr>\n    )\n}\nconst Exports = ({ app = [], setApp }) => {\n\n    const update = useState(0)[1];\n\n    let localPT = app[0].localPT\n    let localET = [];\n    if (!localPT) {\n        localPT = [];\n    }\n\n    if (!app[0].localPT) {\n        app[0].localPT = [];\n    }\n    const setProps = (index, row) => {\n        localPT[index] = row;\n\n        localET = [];\n        localPT.forEach(({ name, type, value, prop }) => {\n            if (type === 'event') {\n                let def = value === 'undefined' ? undefined : () => { };\n                localET.push({ name, def });\n\n            }\n        })\n\n    }\n    const add = () => {\n        let len = localPT.push({ name: '', prop: '', type: 'text', value: '' });\n        update(len)\n\n    }\n    const remove = (index) => {\n        let tmpApp = [...app];\n        if (tmpApp[0].props === undefined) {\n            tmpApp[0].props = {};\n        }\n        let p = tmpApp[0].localPT.splice(index, 1)\n        setApp(tmpApp)\n        console.log(p)\n    }\n\n    const set = () => {\n        let tmpApp = [...app];\n        if (tmpApp[0].props === undefined) {\n            tmpApp[0].props = {};\n        }\n        tmpApp[0].localPT.forEach(pt => {\n            tmpApp[0].props[pt.prop] = pt.value;\n        })\n        if (tmpApp[0].events === undefined) {\n            tmpApp[0].events = {}\n        }\n        tmpApp[0].localET = localET;\n        localET.forEach(e => {\n            tmpApp[0].events[e.name] = e.def;\n        })\n\n        setApp(tmpApp);\n\n    }\n    \n    return (\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <table  >\n                <thead>\n                    <tr>\n                        <th>Name </th>\n                        <th>Type </th>\n                        <th>Initial/Extras </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {localPT.map(({ name, type, value }, index) => {\n                        return (\n                            <Row lname={name} ltype={type} lvalue={value} index={index}\n                                setProps={setProps} remove={remove} />\n                        )\n                    })}\n                </tbody>\n\n            </table>\n            <div style={{ display: 'flex', justifyContent: 'center' }} >\n                <button onClick={add} >Add a Row</button>\n                <button onClick={set} >Set props</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Exports\n\n","import React from 'react'\nimport IconWrapper from './IconWrapper'\nimport Widgets from './Widgets'\nimport { Preview } from './Resources'\n\nconst Libraries = () => {\n    return (\n        <div>\n            <Widgets />\n            <IconWrapper />\n            <Files />\n        </div>\n\n    )\n}\n\nexport default Libraries\n\n\nconst FilePrev = ({ file }) => {\n    if (!(file.type.includes('image') || file.type.includes('video'))) {\n        return <div></div>\n    }\n    return (\n        <div style={{ margin: 1 }} draggable={true} onDragStart={(e) => {\n            e.dataTransfer.setData('text', `res://${file.name}`)\n        }} >\n            <Preview file={file} size={50} />\n        </div>\n    )\n}\n\nconst Files = () => {\n    let files = global.files.filter(f => !f.by || !f.by.startsWith('module'))\n    return (\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n            {files.map(f => <FilePrev key={f.name} file={f} />)}\n        </div>\n    )\n\n}","import React, { useState, useRef } from 'react'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport TextField from '@material-ui/core/TextField'\nimport Menu from '@material-ui/core/Menu'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport LocalForage from 'localforage'\n\nimport { BsInfoCircle } from 'react-icons/bs'\nimport ToolsMenu from './subcomp/ToolsMenu'\nimport  {newApp} from './util/store'\n\nconst set = global.store.set\nconst get = global.store.get\n\n\nconst setStartId = () => {\n    let start = 0\n    global.modules.forEach(m => {\n        m.forEach(c => {\n            if (c.id && c.id.startsWith('comp')) {\n                let id = c.id.split('comp')[1]\n                id = parseInt(id)\n                if (!isNaN(id)) {\n                    if (id > start) {\n                        start = id + 1\n                    }\n                }\n            }\n        })\n    })\n\n    global.created = start\n}\nconst getKeys = async () => {\n    for (const p of Object.keys(localStorage)) {//import old apps\n        try {\n            let pr = JSON.parse(localStorage[p])\n            if (Array.isArray(pr.modules)) {\n                let data = { ...pr, time: (new Date()).toDateString() }\n                await LocalForage.setItem(p, JSON.stringify(data))\n                localStorage.removeItem(p)\n            }\n        } catch (e) {\n            //console.log('not project', p)\n        }\n    }\n    let keys = await LocalForage.keys()\n    keys = keys.filter(async (k) => {\n        try {\n            let data = await LocalForage.getItem(k)\n            data = JSON.parse(data)\n            return Array.isArray(data.modules)\n        } catch (e) {\n            return false\n        }\n    })\n    try {\n        localStorage.setItem('projectnames', JSON.stringify(keys))\n    } catch (e) {\n        console.log('Projectnames stored on cache error')\n    }\n    return keys\n}\n\nconst Manager = ({ app, setApp, setFull, layout, setLayout, runScripts, info: mesInfo, connect, connected,onOpen,onSave,toolsProps }) => {\n    const [name, setName] = useState(get('lastsave'))\n    const [info, setInfo] = useState('')\n    const [open, setOpen] = useState(get('lastopen'))\n    const [delmod, setDelmod] = useState('')\n    const [withRes, setWithRes] = useState(true)\n    const [openLogs, setOpenLogs] = useState(false)\n\n    const projoFile = useRef()\n\n    const disMes = (mes) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), 5000)\n    }\n\n\n    const onDelete = async () => {\n        if (delmod.trim() === '') disMes('Specify a name')\n        let options = getOptions()\n        if (!options.includes(delmod)) {\n            disMes('Project not found ')\n            return\n        }\n\n        await LocalForage.removeItem(delmod)\n        getKeys()//update project names in localstorage\n        disMes('Delted : ' + delmod)\n        setDelmod('')\n\n    }\n    const saveToDisk = (withRes = false) => {\n        let data = JSON.stringify({\n            modules: global.modules, comps: global.comps,\n            remodules: global.remodules, files: withRes ? global.files : [],\n        })\n        let blob = new Blob([data], { type: 'text/plain' })\n        let file = new File([blob], 'project.guyi', { type: 'text/plain' })\n        let a = document.createElement('a')\n        let d = new Date()\n        a.download = `${name || 'guyi'} ${d.getHours()}-${d.getMinutes()}.guyi`\n        a.href = URL.createObjectURL(file)\n        a.click()\n\n    }\n\n    const loadFromDisk = async () => {\n        try {\n            let file = projoFile.current.files[0]\n            if (!file) {\n                disMes('Choose file first')\n                return\n            }\n            let data = await file.text()\n            if (!data) {\n                disMes('Could not open project')\n                return\n            }\n            try {\n                data = JSON.parse(data)\n            } catch (e) {\n                disMes('Data corrupted ')\n                return\n            }\n            let test = true\n            if (data.modules.length === 0) test = false\n            if (Array.isArray(data.modules)) {\n                data.modules.forEach(cd => {\n                    if (!Array.isArray(cd)) {\n                        test = false\n                    }\n                })\n            } else {\n                test = false\n            }\n            if (!test) {\n                disMes('Wrong data format')\n                return\n            }\n            global.modules = data.modules\n            if (!Array.isArray(data.remodules)) data.remodules = []\n            global.remodules = data.remodules\n            if (!Array.isArray(data.files)) data.files = []\n            global.files = data.files\n            disMes('opened')\n            global.appData = {}\n            runScripts()\n            setApp(global.modules[0])\n            setStartId()\n\n        } catch (e) {\n            disMes('Loading projo failed ' + e.message)\n        }\n\n    }\n\n    const startNewProjo = () => {\n        let modules = [\n            JSON.parse(JSON.stringify(newApp))\n        ]\n        global.modules = modules\n        global.remodules = []\n        global.comps = []\n        global.files = []\n        global.created = 0\n        global.appData = {}\n\n        setApp(global.modules[0])\n\n    }\n    const getOptions = () => {\n        let keys = localStorage.getItem('projectnames')\n        try {\n            keys = JSON.parse(keys)\n            if (!keys) {\n                throw new Error('must be array')\n            } else {\n                return keys\n            }\n        } catch (e) {\n            getKeys()\n            return []\n        }\n    }\n\n    const options = getOptions()\n\n    // const FileMenu = () => {\n    //     return (\n    const getSize = () => {\n        let data = JSON.stringify({\n            modules: global.modules, comps: global.comps,\n            remodules: global.remodules, files: withRes ? global.files : []\n        })\n        let size = data.length\n        size = size / 1024\n        if (size >= 1000) {\n            size = size / 1024\n            size = `${Math.floor(size)} Mbs `\n        } else {\n            size = `${Math.floor(size)} Kbs `\n        }\n        return size\n\n    }\n    let size = getSize()\n\n    \n    const [openFile, setOpenFile] = useState(false)\n    const closeFile = () => {\n        setOpenFile(false)\n    }\n    const saveLayout = (e) => {\n        let newLay = e.target.value\n        set('layoutstate', { new: newLay, old: layout })\n        setLayout(newLay)\n\n    }\n\n    const FileMenu = (\n        <Menu open={openFile} onClose={closeFile}  >\n            <div style={{ maxWidth: 350 }} >\n                <div style={{ color: 'blue', fontSize: 20, textAlign: 'center' }} >Guyi 0.9.1(23/10/2021)</div>\n                <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }} >\n                    <button onClick={startNewProjo} >NEW APP</button>\n                    <button onClick={() => saveToDisk(withRes)} >DOWNLOAD APP</button>\n                </div>\n                <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }} >\n                    <div>Save With resources ?</div>\n                    <div>{size}</div>\n                    <input type='checkbox' checked={withRes} onChange={(e) => setWithRes(e.target.checked)} />\n                </div>\n                <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n                    <button onClick={() => onSave(name, withRes)} >SAVE(browser)</button>\n                    <TextField\n                        value={name} variant='outlined'\n                        size='small'\n                        margin='none'\n                        onChange={(e) => setName(e.target.value)} label='Name'\n                        onKeyPress={(e) => {\n                            if (e.key === 'Enter') {\n                                onSave(name,  withRes)\n                            }\n                        }}\n                    />\n                </div>\n                <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n                    <button onClick={() => onOpen(open)} >OPEN(browser) </button>\n                    <Select\n                        size='small'\n                        value={open}\n                        onChange={v => setOpen(v.target.value)}\n                    >\n                        {options.map(p => <MenuItem key={p} value={p}>{p}</MenuItem>)}\n                    </Select>\n                </div>\n                <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n                    <button onClick={onDelete} >Delete(browser)</button>\n                    <Select\n                        size='small'\n                        value={delmod}\n                        onChange={v => setDelmod(v.target.value)}\n                    >\n                        {options.map(p => <MenuItem key={p} value={p}>{p}</MenuItem>)}\n                    </Select>\n                </div>\n                <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n                    <button onClick={loadFromDisk} >Open File</button>\n                    <input type='file' id='projofile' ref={projoFile} accept='text/*,.guyi' />\n                </div>\n                <div>{info}</div>\n                <Credits />\n            </div>\n        </Menu>\n    )\n    return (\n        <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }} className='guyi manager' >\n            <button onClick={() => setOpenFile(true)} className='button button1'  >FILE</button>\n            <button onClick={() => setFull(true)} className='button button2'  >FULL</button>\n            <Select component=\"button\" value={layout} onChange={saveLayout} >\n                {['Desk', 'Phone', 'Code'].map(m => <MenuItem key={m} value={m}>{m}</MenuItem>)}\n            </Select>\n            {FileMenu}\n            <ToolsMenu connect={connect} connected={connected} toolsProps={toolsProps} />\n            <button onClick={() => setOpenLogs(true)} className='button button4' >LOGS</button>\n            <Menu open={openLogs} onClose={() => setOpenLogs(false)} >\n                <div style={{ display: 'flex', flexDirection: 'column', flexWrap: 'wrap', width: '100%', justifyContent: 'space-evenly' }} >\n                    <div onClick={() => console.log(app[0].state)}\n                        style={{ backgroundColor: 'khaki', borderRadius: 3, margin: 2, paddingLeft: 2, paddingRight: 2 }} >LOG STATE</div>\n                    <div onClick={() => console.log(app[0].locals)}\n                        style={{ backgroundColor: 'khaki', borderRadius: 3, margin: 2, paddingLeft: 2, paddingRight: 2 }} >LOG LOCALS</div>\n                    <div onClick={() => console.log(app[0].funcs[0])}\n                        style={{ backgroundColor: 'khaki', borderRadius: 3, margin: 2, paddingLeft: 2, paddingRight: 2 }} >LOG GLOB</div>\n\n                </div>\n            </Menu>\n            <Snackbar\n                open={!!mesInfo}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n            >\n                <Alert info={mesInfo} />\n            </Snackbar>\n        </div>\n    )\n}\n\n\nexport default Manager\n\nconst Alert = ({ info }) => {\n\n    return (\n        <div style={{\n            backgroundColor: 'lightgreen', display: 'flex', alignItems: 'center',\n            borderRadius: 5, padding: 5, border: '2px solid green'\n        }}>\n            <BsInfoCircle color='white' size={24} />\n            <div style={{ color: 'white', fontWeight: 'bold', fontSize: 24 }}>{info}</div>\n        </div>\n    )\n}\n\nconst Credits = () => {\n    const [open, rawsetOpen] = useState(global.showCred)\n    const setOpen = (open) => {\n        rawsetOpen(open)\n        global.showCred = open\n    }\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', position: 'relative', minHeight: 30 }}>\n            <div style={{ position: 'absolute', top: 3, right: 5, display: 'flex' }} >\n                <div>{open ? 'Hide Credits' : 'Show Credits'}</div>\n                <input type='checkbox' checked={open} onChange={(e) => setOpen(e.target.checked)} />\n            </div>\n            {open && <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-evenly', marginTop: 20 }}>\n                <div>Runners : </div>\n                <a href=\"https://github.com/lintshem/my-files/raw/main/guyi.html\" target=\"_blank\" download rel=\"noreferrer\" >Web</a>\n                <a href=\"https://github.com/lintshem/my-files/raw/main/guyi.apk\" target=\"_blank\" download rel=\"noreferrer\" >Android </a>\n                <a href=\"https://github.com/lintshem/my-files/raw/main/guyinstaller.exe\" target=\"_blank\" download rel=\"noreferrer\" >Windows</a>\n                <a href=\"https://github.com/lintshem/my-files/raw/main/guyidocs.pdf\" target=\"_blank\" download rel=\"noreferrer\" >Docs</a>\n                <a href=\"https://github.com/lintshem/my-files/raw/main/guyiserver.exe\" target=\"_blank\" download rel=\"noreferrer\" >DevServer</a>\n            </div>}\n            {open && <div dangerouslySetInnerHTML={{ __html: htmlCred }} />}\n            {open && <div style={{ display: 'flex', justifyContent: 'space-evenly' }} >\n                <img src={'guyi/assets/tso1.jpg'} alt={'Teddy shem Okoth '} style={{ width: 100, height: 100 }} />\n                <img src={'guyi/assets/tso2.jpg'} alt={'Teddy shem Okoth '} style={{ width: 100, height: 100 }} />\n            </div>}\n\n            {open && <div>use Local server <input type='checkbox' value={global.rootUrl.endsWith('mods/')} onChange={(e) => {\n                if (e.target.checked) {\n                    global.rootUrl = 'http://localhost:80/sites/mods/'\n                } else {\n                    global.rootUrl = 'http://shemlint.orgfree.com/'\n                }\n            }} />\n            </div>}\n        </div>\n    )\n}\nlet htmlCred = `<h2 style=\"text-align: center;\"><span style=\"color: rgb(255, 0, 0);\"><em>By</em></span><em>:</em><span style=\"color: rgb(102, 0, 255);\">Teddy Shem Okoth Geda</span><br>\n                </h2>\n\n                <p><span style=\"color: rgb(255, 94, 0);\">Available at :<br>\n                </span></p>\n\n                <ul>\n                    <li style=\"margin-left: 25px;\"><span style=\"color: rgb(102, 0, 255);\"><a target=\"_blank\" href=\"http://guyi.epizy.com\" alt=\"guyi.epizy.com\">guyi.epizy.com</a></span></li>\n                    <li style=\"margin-left: 25px;\"><span style=\"color: rgb(102, 0, 255);\"><a target=\"_blank\" href=\"http://guyi.orgfree.com\" alt=\"guyi.orgfree.com\">guyi.orgfree.com</a></span></li>\n                    <li style=\"margin-left: 25px;\"><span style=\"color: rgb(102, 0, 255);\"><a target=\"_blank\" href=\"https://guyieditor.herokuapp.com\" alt=\"guyi.orgfree.com\">guyi.herokuapp.com(secure)</a></span></li>\n                </ul>\n\n                <p><span style=\"font-size: 18px;\"><span style=\"color: rgb(255, 94, 0);\">Guyi</span> is a project by Teddy Shem, started in the year <span style=\"color: rgb(255, 94, 0);\">2021</span>.</span></p>\n\n                <p><span style=\"font-size: 18px;\">Goals :</span></p>\n\n                <ol>\n                    <li style=\"font-size: 18px;\"><span style=\"font-size: 18px;\">&nbsp; &nbsp; Both <span style=\"color: rgb(255, 94, 0);\">online</span> and <span style=\"color: rgb(255, 94, 0);\">offline</span> full Featured <span style=\"color: rgb(255, 94, 0);\">IDE</span> for Graphical user Interface.</span><br>\n                    </li>\n                    <li style=\"font-size: 18px;\"><span style=\"font-size: 18px;\">&nbsp; &nbsp; To support all three major platforms ie <span style=\"color: rgb(255, 94, 0);\">Web</span> Apps/Sites, <span style=\"color: rgb(255, 94, 0);\">Windows</span> Apps and <span style=\"color: rgb(255, 94, 0);\">Android</span> Apps</span></li>\n                    <li style=\"font-size: 18px;\"><span style=\"font-size: 18px;\">&nbsp; &nbsp; To be <span style=\"color: rgb(255, 94, 0);\">easy </span>for Both beginners and advance users&nbsp;</span><br>\n                    </li>\n                </ol>\n                `","import React, { useState } from 'react'\nimport { Resizable } from 're-resizable'\nimport { Scrollbars } from 'react-custom-scrollbars'\n\nimport Comp from './Comp'\n\nlet localSize = { width: 300, height: 400 }\n\nconst Preview = ({ mutApp, app, state, setState, setFull }) => {\n    const [size, setSize] = useState(localSize)\n    const [drag, setDrag] = useState(global.currentDrag)\n    const resize = (e, dirc, ref, d) => {\n        let newSize = { width: size.width + d.width, height: size.height + d.height }\n        localSize = newSize\n        setSize(newSize)\n\n    }\n    \n    let fullView = (\n        <div style={{ width: '100%', height: '100vh', backgroundColor: 'white' }}>\n            <Scrollbars style={{ width: '100%', height: '100%' }} >\n                <Comp tree={mutApp} id={app[1].id} state={state} setState={setState}    />\n            </Scrollbars>\n        </div>\n    )\n    return (\n        <div style={{\n            width: '100%', height: '100vh', display: 'flex', flexDirection: 'column',\n            alignItems: 'center', justifyContent: 'center', backgroundColor: 'black',\n        }}>\n            <div style={{ position: 'fixed', top: 3, right: 3,zIndex:1000000000 }} >\n                <button onClick={() => { let d = !drag; setDrag(d); global.currentDrag = d }}  >{drag ? 'FullScreen' : 'Resizable'} </button>\n                <button onClick={() => setFull(false)}  >close  </button>\n            </div>\n            {drag && <div style={{ position: 'fixed', left: 3, top: 3, color: 'yellow' }}>Resizable({`${localSize.width}X${localSize.height}`})</div>}\n            {drag && <Resizable\n                size={size}\n                onResizeStop={resize}\n                style={{ backgroundColor: 'white',}}\n            >\n                <Scrollbars style={{ width: '100%', height: '100%' }} >\n                    <Comp tree={mutApp} id={app[1].id} state={state} setState={setState} />\n                </Scrollbars>\n            </Resizable>}\n            {!drag && fullView}\n        </div>\n    )\n}\nexport default Preview\n\n\n","import React, { useState } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Menu from '@material-ui/core/Menu'\nimport { AiFillStar } from 'react-icons/ai'\nimport { BiSearch } from 'react-icons/bi'\nimport { FaDownload } from 'react-icons/fa'\nimport Ripples from 'react-ripples'\nimport { Resizable } from 're-resizable'\nimport Scrollbars from 'react-custom-scrollbars'\nimport Upload from './subcomp/ExModUpload'\n\nimport Comp from './Comp'\n\nconst FileModules = ({ close }) => {\n    const [info, setInfo] = useState('')\n    const update = useState(0)[1]\n    const disMes = (mes) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), 3000)\n    }\n    const [modules, setModules] = useState([])\n    const FMod = ({ mod, disMes }) => {\n        let name = mod[0].name\n        const saveMod = () => {\n            let names = global.modules.map(m => m[0].name)\n            if (names.includes(name)) {\n                disMes(`Component ${name} exists!`)\n                return\n            }\n            global.modules.push(mod)\n            //update(Math.random())\n            disMes(`Added ${name}`)\n\n        }\n        const saveReMod = () => {\n            let names = global.remodules.map(m => m[0].name)\n            if (names.includes(name)) {\n                disMes(`Module ${name} exists!`)\n                return\n            }\n            let tmpMod = [...mod]\n            tmpMod[0].type = 'main'\n            global.remodules.push(tmpMod)\n            // update(Math.random())\n            disMes(`Added ${name}`)\n        }\n        return (\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', margin: 5, borderTop: '1px solid lavender' }}>\n                <p style={{ color: 'Red', fontSize: 20, margin: 0 }}> {name}</p>\n                <div style={{ display: 'flex' }}>\n                    <div onClick={saveMod} >Comp<FaDownload size={20} color='purple' /></div>\n                    <div onClick={saveReMod} >Mod<FaDownload size={20} color='blue' /></div>\n                </div>\n            </div>\n        )\n    }\n    const fileChanged = async (e) => {\n        let files = e.target.files\n        if (files[0]) {\n            try {\n                let data = await files[0].text()\n                data = JSON.parse(data)\n                if (Array.isArray(data.modules)) {\n                    let allArrays = true\n                    data.modules.forEach(mod => {\n                        if (!allArrays) return\n                        if (!Array.isArray(mod)) {\n                            allArrays = false\n                        }\n                    })\n                    if (allArrays) {\n                        setModules(data.modules)\n                        update(Math.random())\n                    } else {\n                        disMes('Wrong data format')\n                    }\n                } else {\n                    disMes('No modules In The file')\n                }\n            } catch (e) {\n                disMes('Data corrupted', e)\n            }\n        }\n    }\n    return (\n        <div>\n            <input type='file' onChange={(e) => fileChanged(e)} />\n            {modules.map(m => <FMod mod={m} disMes={disMes} />)}\n            <div>{info}</div>\n            <button onClick={close}>Close</button>\n        </div>\n    )\n}\n\nconst Header = ({ setUpload, search, setApp, app }) => {\n    const [text, setText] = useState('')\n    const [openFile, setOpenFile] = useState(false)\n    const closeFile = () => {\n        setApp([...app])\n        setOpenFile(false)\n    }\n    \n    return (\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', position: 'relative' }} >\n            <TextField\n                label='Search'\n                value={text} onChange={(e) => setText(e.target.value)}\n                onKeyPress={(e) => {\n                    if (e.key === 'Enter') {\n                        search(text)\n                    }\n                }}\n            />\n            <div onClick={() => search(text)}>\n                <BiSearch size={20} color='blue' />\n            </div>\n            <button onClick={() => setOpenFile(true)} style={{ marginLeft: 7, marginRight: 7 }} >Import From File</button>\n            <div style={{ position: 'relative' }}><Menu open={openFile} onClose={closeFile} ><FileModules close={closeFile} /></Menu></div>\n            <button style={{ position: 'absolute', top: 3, right: 5 }} onClick={() => setUpload(true)} >Upload</button>\n        </div>\n    )\n}\nconst ExModules = ({ app, setApp }) => {\n    const [data, rawSetData] = useState(global.searchResult)\n    const [upload, rawsetUpload] = useState((global.isUpload === undefined) ? false : global.isUpload)\n    const [info, setInfo] = useState('')\n    let loading = false\n    const setUpload = (val) => {\n        rawsetUpload(val)\n        global.isUpload = val\n    }\n    const setData = (newData) => {\n        rawSetData(newData)\n        global.searchResult = newData\n    }\n    const ModuleItem = ({ item, index }) => {\n        const [info, setInfo] = useState('')\n        const disMes = (mes) => {\n            setInfo(mes)\n            setTimeout(() => setInfo(''), 6000)\n        }\n        try {\n            let crtEmail = JSON.parse(item.creator)\n            item.creator = crtEmail.creator\n        } catch (e) {\n            //console.log('Item from old version,update!!')\n\n        }\n\n        let tree = Array.isArray(item.tree) ? item.tree : false\n        let preview = <div>No Preview</div>\n        try {\n            if (tree) {\n                let files = Array.isArray(item.files) ? item.files : []\n                global.runScripts(files)\n                preview = <Comp tree={tree} id={tree[1].id} prev={{ deps: item.deps, files }} />\n            }\n        } catch (e) { console.log('tree error ', item) }\n        let deps = <p>None</p>\n        if (Array.isArray(item.deps) && item.deps.length > 0) {\n            deps = <ol>\n                {item.deps.map(d => <li>{d[0].name}</li>)}\n            </ol>\n        }\n        let files = <p>None</p>\n        if (Array.isArray(item.files) && item.files.length > 0) {\n            files = <ol>\n                {item.files.map(f => <li>{`size:${Math.floor(f.size / 1024)} Kbs, ${f.name} `}</li>)}\n            </ol>\n        }\n\n        const like = () => {\n            disMes('Like comming soon ')\n        }\n        const download = async (asModule) => {\n            setInfo('downloading')\n            const save = (module) => {\n                if (asModule) {\n                    saveReMod(module)\n                } else {\n                    saveMod(module)\n                }\n            }\n            let id = item.id\n            if (Array.isArray(item.tree) && Array.isArray(item.deps)) {\n                disMes('Saving from Cache')\n                save({ data: item.tree, deps: item.deps, files: item.files })\n                return\n            }\n            try {\n                let res = await fetch(`${global.rootUrl}allguyi.php`, {\n                    method: 'POST',\n                    body: JSON.stringify({ id, do: 'download' })\n                })\n                res = await res.text()\n                res = JSON.parse(res)\n                let module = res.data\n                if (res.status === 'ok' && module.length === 1) {\n                    try {\n                        module = module[0]\n                        module.data = JSON.parse(module.data)\n                        module.deps = JSON.parse(module.deps)\n                        module.files = JSON.parse(module.files)\n                        if (module.data.length >= 2) {\n                            disMes('Download finished')\n                            save(module)\n                        } else {\n                            disMes('Module incomplete')\n                        }\n                    } catch (e) {\n                        disMes('Module Format error');\n                         console.log(e.message)\n                    }\n                } else {\n                    disMes('download failed')\n                }\n\n            } catch (e) {\n                disMes('Error')\n                console.log(e.message)\n            }\n\n        }\n        const saveMod = (mod) => {\n            let names = global.modules.map(m => m[0].name)\n            if (names.includes(mod.data[0].name)) {\n                disMes(`Comp ${mod.data[0].name} exists`)\n                return\n            }\n            let deps = mod.deps\n            if (!Array.isArray(deps)) deps = []\n            let depNames = deps.map(d => d[0].name).concat([mod.data[0].name])\n            let clash = []\n            let modNames = global.modules.map(m => m[0].name).concat(global.remodules.map(m => m[0].name))\n            modNames.forEach(n => {\n                if (depNames.includes(n)) {\n                    clash.push(n)\n                }\n            })\n            if (clash.length > 0) {\n                disMes(`Dependency name clash \"${clash.join('\" , \"')}\" exists in App Tree`)\n                return\n            }\n            let fnames = global.files.map(f => f.name)\n            let fclash = []\n            mod.files.forEach(f => {\n                if (fnames.includes(f.name)) {\n                    fclash.push(f.name)\n                }\n            })\n            if (fclash.length > 0) {\n                disMes(`Resource name clash \"${fclash.join('\" , \"')}\" `)\n                return\n            }\n            let files = JSON.parse(JSON.stringify(mod.files))\n            files.forEach(f => {\n                f.by = `module,${mod.data[0].name}`\n                global.files.push(f)\n            })\n\n\n            global.modules.push(JSON.parse(JSON.stringify(mod.data)))\n            deps.forEach(d => {\n                let tmpD = JSON.parse(JSON.stringify(d))\n                tmpD.type = mod.data[0].name\n                global.modules.push(tmpD)\n            })\n\n            setApp([...app])\n        }\n        const saveReMod = (mod) => {\n            let names = global.remodules.map(m => m[0].name)\n            if (names.includes(mod.data[0].name)) {\n                disMes(`Module ${mod.data[0].name} exists`)\n                return\n            }\n            let deps = mod.deps\n            if (!Array.isArray(deps)) deps = []\n            let depNames = deps.map(d => d[0].name).concat([mod.data[0].name])\n            let clash = []\n            let modNames = global.modules.map(m => m[0].name).concat(global.remodules.map(m => m[0].name))\n            modNames.forEach(n => {\n                if (depNames.includes(n)) {\n                    clash.push(n)\n                }\n            })\n            if (clash.length > 0) {\n                disMes(`Dependency name clash ${' \"' + clash.join('\" , \"') + '\" '} exists in App Tree`)\n                return\n            }\n            let fnames = global.files.map(f => f.name)\n            let fclash = []\n            mod.files.forEach(f => {\n                if (fnames.includes(f.name)) {\n                    fclash.push(f.name)\n                }\n            })\n            if (fclash.length > 0) {\n                disMes(`Resource name clash \"${fclash.join('\" , \"')}\" exists in App tree`)\n                return\n            }\n            let files = JSON.parse(JSON.stringify(mod.files))\n            files.forEach(f => {\n                f.by = `module,${mod.data[0].name}`\n                global.files.push(f)\n            })\n\n\n            let tmpMod = [...mod.data]\n            tmpMod[0].type = 'main'\n            global.remodules.push(JSON.parse(JSON.stringify(tmpMod)))\n            deps.forEach(d => {\n                let tmpD = JSON.parse(JSON.stringify(d))\n                tmpD[0].type = mod.data[0].name\n                global.remodules.push(tmpD)\n            })\n            console.log('mod', mod)\n            disMes('Added module')\n            setApp([...app])\n        }\n\n        return (\n            <div style={{ display: 'flex', flexDirection: 'column', borderTop: '5px solid grey', marginTop: 5 }}>\n                <Resizable style={{ border: '1px solid red' }} defaultSize={{ width: '100%', height: 200 }}>\n                    <Scrollbars style={{\n                        display: 'flex', minHeight: 80, padding: 4\n                    }}>\n                        <div style={{ display: 'flex' }}>\n                            <Resizable style={{ border: '1px solid green', }} defaultSize={{ width: '50%', height: 150 }} >\n                                <Scrollbars style={{ display: 'flex', flexDirection: 'column', margin: 4 }}>\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', backgroundColor: 'lavender' }} >\n                                        <div>{item.name}</div>\n                                        <div>{item.creator}</div>\n                                    </div>\n                                    <div style={{ width: '100%', flex: 1 }} dangerouslySetInnerHTML={{ __html: item.doc }} />\n                                </Scrollbars>\n                            </Resizable>\n                            <Resizable style={{ border: '1px solid grey', margin: 4 }} defaultSize={{ width: '50%', height: 150 }} >\n                                <Scrollbars style={{ width: '100%', height: '100%' }}>\n                                    {preview}\n                                </Scrollbars>\n                            </Resizable>\n                        </div>\n                    </Scrollbars>\n                </Resizable>\n                <div style={{ borderTop: '0px solid red' }}>\n                    <div style={{ width: '100%', textAlign: 'center', color: 'blue' }}>Dependencies</div>\n                    <div>{deps}</div>\n                </div>\n                <div style={{ borderTop: '1px solid red' }}>\n                    <div style={{ width: '100%', textAlign: 'center', color: 'blue' }}>Resources</div>\n                    <div>{files}</div>\n                </div>\n                <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center' }} >\n                    <Ripples style={{ display: 'flex', alignItems: 'center', margin: 20 }} onClick={like} >\n                        <div style={{ marginRight: 5 }}>589</div>\n                        <AiFillStar size={20} color='blue' />\n                    </Ripples>\n                    <Ripples style={{ display: 'flex', alignItems: 'center', margin: 20 }} onClick={() => download(false)} >\n                        <div >Comp<FaDownload size={20} color='purple' /></div>\n                    </Ripples>\n                    <Ripples style={{ display: 'flex', alignItems: 'center' }} onClick={() => download(true)} >\n                        <div>Mod<FaDownload size={20} color='blue' /></div>\n                    </Ripples>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'center', minHeight: 16 }}>{info}</div>\n            </div>\n        )\n    }\n\n    const search = async (text) => {\n        loading = true\n        if (text.length < 3) {\n            setInfo('Query too Short')\n            return\n        }\n        setInfo(`Searching : ${text}`)\n        try {\n            let res = await fetch(`${global.rootUrl}allguyi.php`, {\n                method: 'POST',\n                body: JSON.stringify({ query: text, do: 'search' })\n            })\n            res = await res.text()\n            res = JSON.parse(res)\n            if (res.status === 'ok') {\n                loading = false\n                setData(res.data)\n                getPreviews(res.data, 0)\n                setInfo(`Results for \"${text}\" `)\n\n            } else {\n                setInfo('Search Error')\n            }\n\n        } catch (e) {\n            console.log('net error', e.messsage)\n            setInfo('Net Error ')\n        }\n        loading = false\n    }\n    const getPreviews = async (data, pos) => {\n        if (loading) return\n        if (data.length > pos) {\n            try {\n                let res = await fetch(`${global.rootUrl}allguyi.php`, {\n                    method: 'POST',\n                    body: JSON.stringify({ id: data[pos].id, do: 'download' })\n                })\n                res = await res.text()\n                res = JSON.parse(res)\n                let data1 = res.data[0]\n                if (res.status === 'ok' && data1) {\n                    let tmpData = [...data]\n                    tmpData[pos].tree = JSON.parse(data1.data)\n                    let deps = JSON.parse(data1.deps)\n                    if (!Array.isArray(deps)) deps = []\n                    tmpData[pos].deps = deps\n                    let files = JSON.parse(data1.files)\n                    if (!Array.isArray(files)) files = []\n                    console.log(files)\n                    tmpData[pos].files = files\n                    setData(tmpData)\n                }\n\n            } catch (e) { console.log('preview error ', e.message) }\n            finally { getPreviews(data, pos + 1) }\n        }\n    }\n    if (upload) {\n        return <Upload setUpload={setUpload} />\n    }\n\n    return (\n        <div style={{ width: '100%', position: 'relative' }}>\n            <Header setUpload={setUpload} search={search} setApp={setApp} app={app} />\n            <div style={{ display: 'flex', justifyContent: 'center', }} >\n                <h3 style={{ color: 'blue' }}>{info}</h3>\n            </div>\n            {data.map((d, index) => <ModuleItem item={d} index={index} />)}\n            {data.length === 0 &&\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                    <div>No Results </div>\n                    <div>Search using Module name or Author Name</div>\n                </div>}\n        </div>\n    )\n}\nexport default ExModules\n","import React, { useState } from 'react'\n\nimport { MdDelete } from 'react-icons/md'\n\nconst ReModules = () => {\n    const update = useState(0)[1]\n    let remodules=global.remodules\n\n    const ModItem = ({ mod, index }) => {\n        return (\n            <div style={{ display: 'flex', justifyContent: 'space-between', width: '90%', border: '1px solid grey', borderRadius: 6, padding: 2, margin: 2 }}\n                draggable={true}\n                onDragStart={(e) => e.dataTransfer.setData('text', mod[0].name)}\n            >\n                <div> {mod[0].name}</div>\n                <div onClick={() => remove(index)} ><MdDelete size={20} color='blue' /></div>\n            </div>\n        )\n    }\n    const remove = (index) => {\n        let name = mainRemods[index][0].name\n        global.remodules = global.remodules.filter(m => !(m[0].name === name || m[0].type === name))\n        update(Math.random())\n    }\n    let mainRemods = remodules.filter(m => m[0].type === 'main')\n    return (\n        <div>\n            {mainRemods.map((mod, index) => <ModItem mod={mod} index={index} />)}\n        </div>\n    )\n}\n\nexport default ReModules\n","import React, { useState, useEffect } from 'react'\nimport RSL from 'react-splitter-layout'\nimport 'react-splitter-layout/lib/index.css'\nimport { Scrollbars } from 'react-custom-scrollbars'\nimport { Console, Hook, Unhook } from 'console-feed'\nimport LocalForage from 'localforage'\n\nimport * as THREE from 'three/build/three.module'\nimport htm from 'htm'\n\nimport { propT, eventT } from './util/data'\nimport { fetchApp, initApp, shortCuts, changeSync,newApp } from './util/store'\n\nimport Tab from './util/Tab'\nimport Comp from './Comp'\nimport Properties from './Properties'\nimport Outline from './Outline'\nimport Functions from './Functions'\nimport Events from './Events'\nimport Screen from './Screen'\nimport Modules from './Modules'\nimport Exports from './Exports'\nimport Libraries from './Libraries'\nimport Manager from './Manager'\nimport Resources from './Resources'\nimport Preview from './Preview'\nimport ExModules from './ExModules'\nimport ReModules from './ReModules'\n\nimport { css, keyframes,injectGlobal,cx } from '@emotion/css'\n\nglobal.React = React\nglobal.THREE = THREE\nglobal.html = htm.bind(React.createElement)\nglobal.css = css\nglobal.keyframes = keyframes\nglobal.cx=cx\nglobal.injectGlobal=injectGlobal\n\nglobal.created = 0\nglobal.modules = []\nglobal.files = []\nglobal.treeData = {}//treeview\nglobal.appData = {}//glob.data\nglobal.resTab = 'view'\nglobal.colFuncs = {}\nglobal.prevSize = { width: 300, height: 400 }\nglobal.screenSize = { width: 300, height: 400 }\nglobal.modules = [JSON.parse(JSON.stringify(newApp))]\nglobal.remodules = []\nglobal.searchResult = []\nglobal.fresult = { meta: {}, data: [] }\nglobal.comps = []\nglobal.compsView = {};\nglobal.rootUrl = 'http://shemlint.orgfree.com/'\nglobal.x = {}\nglobal.process = { platform: 'web' }\nglobal.user = {}\n\nconst set = global.store.set\nconst get = global.store.get\n\nglobal.loadedScripts = []\nconst runScripts = (files = global.files) => {\n    files.forEach(f => {\n        if (global.loadedScripts.includes('js-' + f.name) || global.loadedScripts.includes('css-' + f.name)) {\n            console.log('skipped Script/Css ' + f.name + ' already loaded')\n            return\n        }\n        if (f.type.startsWith('text/javascript') && f.url.length && f.run) {\n            try {\n                //eslint-disable-next-line\n                let func = Function(f.url)\n                func()\n                global.loadedScripts.push('js-' + f.name)\n                console.log(`JS ${f.name} Loaded`)\n            } catch (e) {\n                console.log(`scritp ${f.name} run error ${e.message}`, e)\n            }\n        }\n        if (f.type.startsWith('text/css') && f.url.length && f.run) {\n            try {\n                let css = f.url, head = document.head, style = document.createElement('style')\n                head.appendChild(style)\n                style.type = 'text/css'\n                style.id = 'css-' + f.name\n                if (style.styleSheet) {//IE 8&<\n                    style.stylesheet.cssText = css\n                } else {\n                    style.appendChild(document.createTextNode(css))\n                }\n                global.loadedScripts.push('css-' + f.name)\n                console.log(`CSS ${f.name} Loaded`)\n            } catch (e) {\n                console.log(`Css ${f.name} inject error ${e.message}`, e)\n            }\n        }\n    })\n}\nglobal.runScripts = runScripts\n\nconst setStartId = () => {\n    let start = 0\n    global.modules.forEach(m => {\n        m.forEach(c => {\n            if (c.id && c.id.startsWith('comp')) {\n                let id = c.id.split('comp')[1]\n                id = parseInt(id)\n                if (!isNaN(id)) {\n                    if (id > start) {\n                        start = id + 1\n                    }\n                }\n            }\n        })\n    })\n\n    global.created = start\n}\nlet propTypes = [...propT]\nlet eventTypes = [...eventT]\n\nconst CompSmall = (props) => {\n    const [off, setOff] = useState(false)\n    const reload = () => {\n        setOff(true)\n        setTimeout(() => setOff(false), 20)\n    }\n    useEffect(() => {\n        window.addEventListener('codechange', reload)\n        return ()=>window.removeEventListener('codechange',reload)\n    })\n    //return(<div>hiden</div>)\n    if (off) {\n        return <div></div>\n    }\n    return (\n       <Comp {...props} />\n    )\n}\n\nconst TestFormat = () => {\n    const [app, _setApp] = useState(global.modules[0])\n    const [view, setView] = useState(app[1]);\n    const [appState, setAppState] = useState(app[0].state);\n    const [isFullScreen, setIsFullScreen] = useState(false)\n    const [info, setInfo] = useState('')\n    const [tabPos, setTabPos] = useState(0)\n    const [connected, setConnected] = useState(false)\n    let savedLayout = get('layoutstate')\n    const [layout, setLayout] = useState(savedLayout.new) //savedLayout.new)\n    let mutApp = [...app];\n    const onSave = async (name, withRes = true) => {\n        console.time('save')\n        if (name.trim() === '') {\n            disMes('No name !')\n            return\n        }\n\n        try {\n            // let modNames = global.modules.map(m => m[0].name)\n            // let pos = modNames.indexOf(app[0].name)\n            // global.modules[pos] = JSON.parse(JSON.stringify(app))\n            let data = JSON.stringify({\n                modules: global.modules,\n                remodules: global.remodules, files: withRes ? global.files : []\n            })\n            await LocalForage.setItem(name.trim(), data)\n            let keys = await LocalForage.keys()\n            localStorage.setItem('projectnames', JSON.stringify(keys))\n            disMes('Save succesful')\n            try {\n                localStorage.setItem('lastsave', name.trim())\n                //LocalForage.setItem()\n            } catch (e) {\n                console.log('could not save last save name')\n            }\n        } catch (e) {\n            console.log(e.message)\n            disMes('could not save,Local Storage may be full')\n        }\n        console.timeEnd('save')\n    }\n    const onOpen = async (open) => {\n        console.time('open')\n        let options = JSON.parse(localStorage.getItem('projectnames'))\n        if (!options.includes(open.trim())) {\n            disMes('Project not found')\n            return\n        }\n        let data = await LocalForage.getItem(open)\n        if (!data) {\n            disMes('Could not open project')\n            return\n        }\n        try {\n            data = JSON.parse(data)\n        } catch (e) {\n            console.log(e, data)\n            disMes('Data corrupted ')\n            return\n        }\n        let test = true\n        if (Array.isArray(data.modules)) {\n            if (data.modules.length === 0) test = false\n            data.modules.forEach(cd => {\n                if (!Array.isArray(cd)) {\n                    test = false\n                }\n\n            })\n        } else {\n            test = false\n        }\n        if (!test) {\n            disMes('Wrong data format')\n            return\n        }\n        global.modules = data.modules\n        global.remodules = data.remodules || []\n        global.files = data.files || []\n        global.appData = {}\n        disMes('opened')\n        runScripts()\n\n        setApp(global.modules[0])\n        // setView(global.modules[0][1])\n        setStartId()\n        try {\n            localStorage.setItem('lastopen', open.trim())\n        } catch (e) {\n            console.log('could not save openned project data', e.message)\n        }\n        console.timeEnd('open')\n\n    }\n    const setApp = (app) => {\n        global.tmpApp = app[0].name\n        _setApp(app)\n    }\n    const disMes = (mes = '', duration = 2000) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), duration)\n    }\n    const saveLayout = (name) => {\n        let newLay = name\n        set('layout', { new: newLay, old: layout })\n        setLayout(newLay)\n    }\n    const shortCutsWrap = (e) => shortCuts(\n        e,\n        setTabPos,\n        () => onOpen(get('lastsave')),\n        () => onSave(get('lastsave'), true),\n        saveLayout,\n        disMes,\n    )\n    useEffect(() => {\n        console.log('Guyi editor started.\\nThanks for using GUYI.\\nShare with others about our platform.')\n\n        window.addEventListener('keydown', shortCutsWrap)\n        return () => {\n            window.removeEventListener('keydown', shortCutsWrap)\n        }\n        //eslint-disable-next-line\n    }, [])\n\n    //compileFunctions(appState, setAppState, app[0].locals, app[0].funcs)\n    const setPropsEvents = (mod) => {\n        if (mod[0].localPT === undefined) {\n            mod[0].localPT = []\n        }\n        if (mod[0].localET === undefined) {\n            mod[0].localET = [];\n        }\n        let types = propTypes.map(pt => pt.type)\n        if (types.includes(mod[0].name)) {\n            propTypes[types.indexOf(mod[0].name)] = { type: mod[0].name, props: mod[0].localPT };\n        } else {\n            propTypes.push({ type: mod[0].name, props: mod[0].localPT });\n        }\n        let names = eventTypes.map(et => et.name);\n        if (names.includes(mod[0].name)) {\n            eventTypes[names.indexOf(mod[0].name)] = { name: mod[0].name, events: mod[0].localET };\n        } else {\n            eventTypes.push({ name: mod[0].name, events: mod[0].localET });\n        }\n    }\n    global.modules.forEach(mod => setPropsEvents(mod))\n    global.remodules.forEach(mod => setPropsEvents(mod))\n\n    const setProp = (prop, value, add = false) => {\n        let tmpView = { ...view };\n        let tmpProps = { ...tmpView.props };\n        tmpProps[prop] = value;\n        tmpView.props = tmpProps;\n        setView(tmpView)\n        let ids = app.map(val => val.id);\n        let tmpApp = JSON.parse(JSON.stringify(app))\n        let pos = ids.indexOf(view.id)\n        if (tmpApp[pos] !== undefined) {//error after changing id of comp\n            tmpApp[pos].props = tmpProps;\n\n            if (add) {\n                tmpApp.push(add)\n            }\n            setApp(tmpApp);\n        } else {\n            console.log('No view selected')\n        }\n        //update global.modules\n        let mnames = global.modules.map(m => m[0].name)\n        let m_pos = mnames.indexOf(app[0].name)\n        if (m_pos !== -1) global.modules[m_pos] = tmpApp\n\n    }\n    const changeApp = (index) => {\n        let names = global.modules.map(val => val[0].name)\n        let pos = names.indexOf(app[0].name)\n        global.modules[pos] = [...app]\n        let newApp = global.modules[index]\n        setApp(newApp)\n        setAppState(newApp[0].state)\n        setView(newApp[1])\n    }\n    const setReloadApp = (mes) => {\n        let data = mes.app\n        global.modules = data.modules || app\n        global.remodules = data.remodules || []\n        global.files = data.files || []\n        global.appData = {}\n        disMes('Reloaded', 700)\n        runScripts()\n        setApp(global.modules[0])\n        setStartId()\n    }\n    const toolsProps = {\n        fetch: () => fetchApp(disMes),\n        connect: (adress) => initApp(adress, disMes, setConnected, (mes) => setReloadApp(mes)),\n        changeSync,\n        isConnected: connected,\n\n    }\n    let editScreen = (\n        <div  >\n            <RSL vertical secondaryInitialSize={70} >\n                <RSL primaryIndex={1} secondaryInitialSize={100} >\n                    <RSL vertical secondaryInitialSize={90} primaryIndex={1} >\n                        <Scrollbars>\n                            <Manager layout={layout} setLayout={setLayout} setFull={setIsFullScreen} setApp={setApp}\n                                app={app} runScripts={runScripts} info={info}\n                                onOpen={onOpen} onSave={onSave} toolsProps={toolsProps}\n                            />\n                        </Scrollbars>\n                        <RSL vertical secondaryInitialSize={150} >\n                            <Scrollbars >\n                                <Modules setApp={setApp} app={app} changeApp={changeApp} />\n                            </Scrollbars>\n                            <Scrollbars >\n                                <ReModules />\n                            </Scrollbars>\n                        </RSL>\n                    </RSL>\n                    <RSL secondaryInitialSize={150} style={{ bakgroundcolor: 'green', padding: 12 }}>\n                        <Tab pos={tabPos} id='workspace'\n                            setPos={setTabPos}\n                            data={[\n                                {\n                                    title: 'Design', comp: <Screen ><Comp tree={mutApp} id={app[1].id} state={appState} setState={setAppState} /></Screen>\n                                },\n                                {\n                                    title: 'Code', comp: <Functions app={app} setApp={setApp} />\n                                },\n                                { title: 'Exports', comp: <Exports app={app} setApp={setApp} /> },\n                                { title: 'Resources', comp: <Resources /> },\n                                { title: 'Modules', comp: <ExModules app={app} setApp={setApp} /> },\n                            ]}\n                        />\n                        <RSL vertical >\n                            <Tab pos={0} id='propsevents'\n                                data={[\n                                    {\n                                        title: 'Props',\n                                        comp: <Properties localProps={view.props} setProp={setProp} type={view.name} localPropTypes={propTypes}\n                                            id={view.id} app={app} setApp={setApp} view={view} setView={setView} />\n                                    },\n                                    {\n                                        title: 'Events',\n                                        comp: <Events view={view} funcs={app[0].funcs} eventTypes={eventTypes} setApp={setApp} app={app} />\n                                    }\n                                ]}\n                            />\n                            <Scrollbars style={{ position: 'relative' }} >\n                                <Outline id={app[1].id} setApp={setApp} tree={app} onClick={(node) => { setView(node.item); }} selected={view.id} />\n                            </Scrollbars>\n                        </RSL>\n                    </RSL>\n                </RSL>\n                <RSL secondaryInitialSize={200} style={{ padding: '10' }} >\n                    <Scrollbars>\n                        <Libraries />\n                    </Scrollbars>\n                    <Scrollbars style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                        <CompSmall tree={JSON.parse(JSON.stringify(app))} id={view.id} events={false} />\n                    </Scrollbars>\n                </RSL>\n            </RSL>\n\n        </div>\n    )\n    let layout2 = (\n        <div >\n            <RSL vertical secondaryInitialSize={300} >\n                <Tab pos={tabPos} id='workspace'\n                    setPos={setTabPos}\n                    data={[\n                        {\n                            title: 'Design', comp: <Screen ><Comp tree={mutApp} id={app[1].id} state={appState} setState={setAppState} view={view} /></Screen>\n                        },\n                        {\n                            title: 'Code', comp: <Functions app={app} setApp={setApp} />\n                        },\n                        { title: 'Exports', comp: <Exports app={app} setApp={setApp} /> },\n                        { title: 'Resources', comp: <Resources /> },\n                        { title: 'Modules', comp: <ExModules app={app} setApp={setApp} /> },\n                    ]}\n                />\n                <RSL secondaryInitialSize={220} style={{ bakgroundcolor: 'green', padding: 12 }}>\n                    <RSL vertical secondaryInitialSize={100}  >\n                        <Tab pos={0} id='propsevents'\n                            data={[\n                                {\n                                    title: 'Props',\n                                    comp: <Properties localProps={view.props} setProp={setProp} type={view.name} localPropTypes={propTypes}\n                                        id={view.id} app={app} setApp={setApp} view={view} setView={setView} />\n                                },\n                                {\n                                    title: 'Events',\n                                    comp: <Events view={view} funcs={app[0].funcs} eventTypes={eventTypes} setApp={setApp} app={app} />\n                                }\n                            ]}\n                        />\n                        <Scrollbars style={{ position: 'relative' }} >\n                            <Outline id={app[1].id} setApp={setApp} tree={app} onClick={(node) => { setView(node.item); }} selected={view.id} />\n                        </Scrollbars>\n\n                    </RSL>\n                    <RSL secondaryInitialSize={150} style={{ padding: '10' }} >\n                        <Scrollbars>\n                            <Libraries />\n                        </Scrollbars>\n                        <RSL vertical primaryIndex={1} secondaryInitialSize={80} >\n                            <Scrollbars>\n                                <CompSmall tree={JSON.parse(JSON.stringify(app))} id={view.id} events={false} />\n                            </Scrollbars>\n                            <RSL secondaryInitialSize={100} >\n                                <Scrollbars>\n                                    <Manager layout={layout} setLayout={setLayout} setFull={setIsFullScreen} setApp={setApp}\n                                        app={app} runScripts={runScripts} info={info}\n                                        onOpen={onOpen} onSave={onSave} toolsProps={toolsProps}\n                                    />\n                                </Scrollbars>\n                                <RSL secondaryInitialSize={50} >\n                                    <Scrollbars >\n                                        <Modules setApp={setApp} app={app} changeApp={changeApp} />\n                                    </Scrollbars>\n                                    <Scrollbars >\n                                        <ReModules />\n                                    </Scrollbars>\n                                </RSL>\n                            </RSL>\n                        </RSL>\n                    </RSL>\n                </RSL>\n            </RSL>\n\n        </div>\n    )\n    const CodeLayout = () => {\n        const [prev, setPrev] = useState(false)\n        return (\n            <div style={{\n                display: 'flex', flexDirection: 'column', heigth: '100%',\n                marginTop: prev ? '' : 20, marginBottom: prev ? 20 : 0\n            }}>\n                {!prev && <div style={{ position: 'fixed', right: 10, top: 8, zIndex: 100 }} >\n                    <button onClick={() => {\n                        setLayout(savedLayout.old)\n                        set('layoutstate', { new: savedLayout.old, old: 'code' })\n                    }}\n                    >  Close </button>\n                    <button onClick={() => setPrev(!prev)}  > {prev ? 'Stop' : 'Prev'}</button>\n                </div>}\n                {prev && <Preview mutApp={mutApp} app={app} state={appState} setFull={setPrev}\n                    setState={setAppState}\n                />}\n                {!prev && [<Functions app={app} setApp={setApp} />,\n                <div style={{ marginBottom: '70vh' }} />]}\n                <LogsContainer prev={prev} />\n            </div>\n        )\n    }\n\n    if (isFullScreen) {\n        return <Preview mutApp={mutApp} app={app} state={appState} setFull={setIsFullScreen}\n            setState={setAppState}\n        />\n    } else {\n        if (layout === 'Desk') {\n            return editScreen\n        } else if (layout === 'Code') {\n            return <CodeLayout />\n        } else {\n            return layout2\n        }\n    }\n}\n\nexport default TestFormat\n//#endregion\n\n\nconst LogsContainer = ({ prev }) => {\n    const [logs, setLogs] = useState([])\n    const [show, setShow] = useState(get('consoleopen'))\n    const [h, setH] = useState(get('consoleheight'))\n    // run once!\n    useEffect(() => {\n        Hook(\n            window.console,\n            (log) => setLogs((currLogs) => [...currLogs, log]),\n            false\n        )\n        return () => Unhook(window.console)\n    }, [])\n\n    const clear = () => {\n        setLogs([])\n    }\n\n    return (\n        <div style={{\n            position: 'fixed', bottom: 0, width: '100%', display: 'flex', flexDirection: 'column',\n            backgroundColor: 'black', height: show ? `${h}vh` : 20, borderTop: '1px solid blue'\n        }}>\n            <div style={{ alignSelf: 'flex-end', display: 'flex', padding: 3 }}>\n                <button onClick={() => set('consoleheight', h + 5, setH)}>+</button>\n                <button onClick={() => set('consoleheight', h - 5, setH)}>-</button>\n                <button onClick={() => set('consoleopen', !show, setShow)}  >{show ? 'Hide' : 'Show'}</button>\n                <button onClick={clear}  >Clear</button>\n            </div>\n            <Scrollbars style={{ flex: 1, }} >\n                <Console logs={logs} variant=\"dark\" />\n            </Scrollbars>\n        </div>\n    )\n}\n\n\n","import React, { useState } from 'react'\nimport * as md from 'react-icons/md'\nimport * as fa from 'react-icons/fa'\nimport * as bi from 'react-icons/bi'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport EnterInput from './util/EnterInput'\n\nconst micons = Object.keys(md)\nconst ficons = Object.keys(fa)\nconst bicons=Object.keys(bi)\n\nconst IconWrapper = () => {\n    const [sch, setSch] = useState('icon')\n    let mresIcons = micons.filter(ic => ic.toLowerCase().includes(sch.toLowerCase()))\n    let fresIcons = ficons.filter(ic => ic.toLowerCase().includes(sch.toLowerCase()))\n    let bresIcons = bicons.filter(ic => ic.toLowerCase().includes(sch.toLowerCase()))\n    let allIcons = mresIcons.concat(fresIcons,bresIcons)  //mresIcons.concat(fresIcons)\n    \n    const Search = () => {\n        const [optSrc, setOptSrc] = useState(sch)\n        return (\n            <div>\n                <EnterInput type=\"text\" placeholder='filter' value={optSrc}\n                    onBlur={(e) => setSch(optSrc)}\n                    onChange={(e) => { setOptSrc(e.target.value) }}\n                    onEnter={(e) => setSch(optSrc)}\n                />\n            </div>\n        )\n    }\n\n    const Drag = ({ icon }) => {\n        if (icon.startsWith('Md')) {\n            return (\n\n                <Tooltip title={icon} placement='bottom' >\n                    <div draggable={true} onDragStart={(e) => e.dataTransfer.setData('text', icon)}\n                        style={{ padding: 5 }}\n                    >\n                        {React.createElement(md[icon], { size: 30, color: 'blue' }, [])}\n                    </div>\n                </Tooltip>\n            )\n        } else if (icon.startsWith('Fa')) {\n            return (\n                <Tooltip title={icon} placement='bottom' >\n                    <div draggable={true} onDragStart={(e) => e.dataTransfer.setData('text', icon)}\n                        style={{ padding: 5 }}\n                    >\n                        {React.createElement(fa[icon], { size: 30, color: 'blue' }, [])}\n                    </div>\n                </Tooltip>\n            )\n\n        }else if (icon.startsWith('Bi')) {\n            return (\n                <Tooltip title={icon} placement='bottom' >\n                    <div draggable={true} onDragStart={(e) => e.dataTransfer.setData('text', icon)}\n                        style={{ padding: 5 }}\n                    >\n                        {React.createElement(bi[icon], { size: 30, color: 'blue' }, [])}\n                    </div>\n                </Tooltip>\n            )\n\n        }\n\n    }\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap',alignItems:'flex-start' }}>\n            <Search />\n            {allIcons.map(ic => {\n                return (\n                    <Drag key={ic} icon={ic} />\n                )\n            })}\n\n        </div>\n    )\n}\n\nexport default IconWrapper\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\n\n\nconst TabPanel = ({ children, open }) => open && (children || <div></div>)\n\nconst set = global.store.set\nconst get = global.store.get\n\n\nconst ToolsMenu = ({ toolsProps }) => {\n    const { fetch, connect, changeSync, isConnected } = toolsProps\n    const [open, setOpen] = useState(false)\n    const [adr, setAdr] = useState(get('adress'))\n    const [no, setNo] = useState(get('reloadno'))\n    const [index, setIndex] = useState(get('toolsindex'))\n    const [sync, setSync] = useState(get('toolssync'))\n    const wsinfo = isConnected ? 'Connected' : 'Not Connected'\n\n    return (\n        <div>\n            <button onClick={(e) => setOpen(!open)} className='button button3' >TOOLS</button>\n            <Menu open={open} onClose={() => setOpen(false)} >\n                <div>\n                    <Tabs size='small' value={index} onChange={(e, i) => set('toolsindex', i, setIndex)}  >\n                        <Tab label='Reload' index={0} />\n                        <Tab label='Shortcuts' index={1} />\n                    </Tabs>\n                    <TabPanel open={index === 0} >\n                        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} >\n                            <div>{wsinfo}</div>\n                            <div> Server : <input  type='text' value={adr} onChange={(e) => set('adress', e.target.value, setAdr)} /></div>\n                            <div onClick={(e) => set('toolssync', !sync, setSync, changeSync)} >\n                                Sync with server ? <input readOnly type='checkbox' checked={sync} />\n                            </div>\n                            <div onClick={() => set('reloadno', 0, setNo)} >on save(Ctrl+s)<input readOnly type='checkbox' checked={no === 0} /></div>\n                            <div onClick={() => set('reloadno', 1, setNo)} >on reload(Ctrl+f)<input readOnly type='checkbox' checked={no === 1} /></div>\n                            <div>\n                                <button onClick={fetch} >Fetch Latest</button>\n                                <button onClick={() => connect(adr)}>Connect  </button>\n                            </div>\n                        </div>\n                    </TabPanel>\n                    <TabPanel open={index === 1} >\n                        <div>\n                            <div>Ctrl +s save(project or function)</div>\n                            <div>Ctrl +o open(project )</div>\n                            <div>Ctrl +r run function</div>\n                            <div>Ctrl +f forward to server</div>\n                            <div>F9 format function</div>\n                            <div>F10 run function</div>\n                        </div>\n                    </TabPanel >\n                </div>\n            </Menu>\n        </div>\n    )\n}\nexport default ToolsMenu\n","import React, { useState } from 'react'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport TextField from '@material-ui/core/TextField'\nimport Select from '@material-ui/core/Select'\nimport { dataBasic, dataHtml } from '../Widgets'\nimport JoditEditor from 'jodit-react'\n\nconst dBasic = dataBasic.map(d => d.name)\nconst dHtml = dataHtml.map(d => d.name)\nconst get = global.store.get\nconst set = global.store.set\n\nlet usedFiles = []\nconst Upload = ({ setUpload }) => {\n    const [mod, _setMod] = useState('')\n    const [info, setInfo] = useState('')\n    const [doc, setDoc] = useState(get('doc'))\n    const [author, setAuthor] = useState('')\n    const [secretKey, setSecretKey] = useState('')\n\n    const disMes = (mes) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), 6000)\n    }\n    const uploadModule = async () => {\n        if (author.length < 4) {\n            disMes('Author name too Short (4)')\n            return\n        }\n        if (doc.length < 10) {\n            disMes('Documentation too short (10)')\n            return\n        }\n        if (secretKey.length < 5) {\n            disMes('Secret key too short')\n            return\n        }\n        if (info === 'Uploading') return\n        disMes('Uploading')\n        let module = global.modules[global.modules.map(m => m[0].name).indexOf(mod)]\n        let depsMods = []\n        let missing = []\n        let allDeps = deps.concat(deepDeps)\n        allDeps.forEach(d => {\n            let mnames = global.modules.map(m => m[0].name)\n            let rnames = global.remodules.map(m => m[0].name)\n            if (mnames.includes(d)) {\n                depsMods.push(global.modules[mnames.indexOf(d)])\n            } else if (rnames.includes(d)) {\n                depsMods.push(global.remodules[rnames.indexOf(d)])\n            } else {\n                missing.push(d)\n            }\n\n        })\n        if (missing.length > 0) {\n            setInfo(`Missing ${missing.length} components : \\n${missing.join('\\n')}`)\n        }\n        let resFiles = []\n        usedFiles.forEach(f => {\n            let fnames = global.files.map(f => f.name)\n            let pos = fnames.indexOf(f)\n            if (pos === -1) return\n            let file = global.files[pos]\n            resFiles.push(file)\n\n        })\n\n        let req = {\n            do: 'upload',\n            name: mod,\n            creator: JSON.stringify({ creator: author, email: secretKey }),\n            doc: doc,\n            data: JSON.stringify(module),\n            deps: JSON.stringify(depsMods),\n            files: JSON.stringify(resFiles),\n        }\n        let size = JSON.stringify(req).length\n        if (size > 5 * 1024 * 1024) {\n            disMes(\"Module larger than 5mbs,Can't host on free servers\")\n            return\n        }\n        try {\n            let res = await fetch(`${global.rootUrl}allguyi.php`, {\n                method: 'POST',\n                body: JSON.stringify(req),\n            })\n            res = await res.text()\n            res = JSON.parse(res)\n            if (res.exits && !res.deleted) {\n                disMes('Component with that name exists, use same secret key to update.')\n                return\n            }\n            if (res.status === 'ok') {\n                if (missing.length > 0) {\n                    setInfo('Uploaded Finished \\n' + info)\n                } else {\n                    disMes('Upload Finished ')\n                }\n\n            } else {\n                if (missing.length > 0) {\n                    setInfo('Uploaded Error \\n' + info)\n                } else {\n                    disMes('Upload Error ')\n                }\n            }\n        } catch (e) {\n            disMes('Upload failed ')\n            console.log(e.message)\n        }\n\n    }\n    const getDeepDeps = (comp) => {\n        let deepDeps = getDeps(comp)\n        deepDeps.forEach(d => {\n            deepDeps.push(...getDeepDeps(d))\n        })\n        return deepDeps\n\n    }\n    const getDeps = (comp, compsOnly = false) => {\n        let names = global.modules.map(m => m[0].name)\n        let pos = names.indexOf(comp)\n        let module = pos === -1 ? [] : global.modules[pos]\n        if (!compsOnly) {\n            if (pos === -1) {\n                names = global.remodules.map(m => m[0].name)\n                pos = names.indexOf(comp)\n                if (pos !== -1) {\n                    module = global.remodules[pos]\n                }\n            }\n        }\n        if (pos === -1) return []\n\n        let deps = []\n        let basicMods = [...dBasic, ...dHtml]\n        module.forEach(c => {\n            if (c.name !== comp && !basicMods.includes(c.name)) {\n                deps.push(c.name)\n            }\n        })\n        return deps\n    }\n    const callGetDeepDeps = (gotDeps) => {\n        let deepDeps = []\n        gotDeps.forEach(c => {\n            deepDeps.push(...getDeepDeps(c))\n        })\n        return deepDeps\n    }\n    let comps = global.modules.map(m => m[0].name)\n    let deps = getDeps(mod, true).filter((val, index, data) => data.indexOf(val) === index)\n    let deepDeps = callGetDeepDeps(deps).filter(val => !deps.includes(val));\n    const getUsedFiles = (moduleName) => {\n        let loc_deps = getDeps(moduleName, true).filter((val, index, data) => data.indexOf(val) === index)\n        let loc_deepDeps = callGetDeepDeps(loc_deps).filter(val => !deps.includes(val));\n        let allDeps = loc_deps.concat(loc_deepDeps)\n        allDeps.push(moduleName)\n        let cnames = global.modules.map(m => m[0].name)\n        let mnames = global.remodules.map(m => m[0].name)\n        let used = []\n        allDeps.forEach(d => {\n            let pos = 0\n            let module = []\n            if ((pos = cnames.indexOf(d)) !== -1)\n                module = global.modules[pos]\n            else if ((pos = mnames.indexOf(d)) !== -1)\n                module = global.remodules[pos]\n            module.forEach(m => {\n                let props = m.props || {}\n                for (let p in props) {\n                    let val = props[p]\n                    if (typeof val === 'string' && val.startsWith('res://')) {\n                        used.push(val.split('res://')[1])\n                    }\n                }\n            })\n        })\n        return used\n\n    }\n\n    const setMod = (mod) => {\n        usedFiles = getUsedFiles(mod)\n        console.log(usedFiles, getUsedFiles().length)\n        _setMod(mod)\n    }\n    const ManualFiles = () => {\n        const [files, _setFiles] = useState(global.files.map(f => ({ ...f, selected: usedFiles.includes(f.name) })))\n        const setFiles = (files) => {\n            usedFiles = files.filter(f => f.selected).map(f => f.name)\n            _setFiles(files)\n        }\n        const File = ({ ff, i }) => {\n            let f = { ...ff }\n            const toggleSelect = () => {\n                let tmpFiles = [...files]\n                tmpFiles[i].selected = !tmpFiles[i].selected\n                setFiles(tmpFiles)\n            }\n            return (\n                <div onClick={toggleSelect} style={{\n                    maxWidth: 200, overflow: 'hidden',\n                    borderBottom: '1px solid grey', padding: '0px 4px',\n                    backgroundColor: !f.selected ? '' : i % 2 === 0 ? 'lavender' : 'khaki'\n                }}>\n                    <div><input type='checkbox' readOnly checked={f.selected} />{f.name}</div>\n                    <div>\n                        {f.type.includes('image') && <img src={f.url} style={{ width: 50, height: 50 }} alt={f.name} />}\n                        {f.type.includes('video') && <video src={f.url} style={{ width: 80, height: 80 }} controls />}\n                        {f.type.includes('text') && f.run &&\n                            <div style={{ width: 80, height: 30, backgroundColor: 'lavenderblush' }}>Script File </div>}\n                    </div>\n                </div>\n            )\n        }\n        return (\n            <div style={{ maxHeight: '60vh', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                <div style={{ fontSize: 20, color: 'blueviolet', textAlign: 'center' }} >\n                    {`Added ${files.filter(f => f.selected).length} of ${files.length} Files (${(files.filter(f => f.selected).map(f => f.size || 0)\n                        .reduce((c, s) => c + s, 0) / (10240 * 1024)).toFixed(2)}Mbs)`}\n                </div>\n                <div style={{ height: 20 }} />\n                <div style={{ flex: 1, overflow: 'auto', display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }} >\n                    {files.map((ff, i) => <File key={ff.name} ff={ff} i={i} />)}\n                </div>\n                {files.length === 0 && <div>No Files in Project</div>}\n            </div>\n        )\n    }\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', border: '2px solid blue' }}>\n            <div style={{ position: 'absolute', right: 5, top: 5 }}>\n                <button onClick={() => setUpload(false)}>Download</button>\n            </div>\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n                <div style={{ marginRight: 10, fontSize: 24, color: 'purple' }}>Component</div>\n                <Select value={mod} onChange={e => setMod(e.target.value)} >\n                    {comps.map(m => <MenuItem value={m}>{m}</MenuItem>)}\n                </Select>\n            </div>\n            <div>\n                <div style={{ color: 'blue', borderBottom: '1px solid grey' }}>Dependencies</div>\n                <ol>\n                    {deps.map(d => <li style={{ textAlign: 'center' }} >{d}</li>)}\n                </ol>\n                {deps.length === 0 && <div style={{ textAlign: 'center' }} >None</div>}\n                <div style={{ color: 'red', borderBottom: '1px solid grey' }}>Hidden Dependencies</div>\n                <ol>\n                    {deepDeps.map(d => <li style={{ textAlign: 'center' }} >{d}</li>)}\n                </ol>\n                {deepDeps.length === 0 && <div style={{ textAlign: 'center' }} >None</div>}\n            </div>\n            <ManualFiles />\n            <div style={{ fontSize: 20, color: 'marron', paddingTop: 5 }}>Documentation for Component</div>\n            <JoditEditor value={doc} onBlur={(v) => set('doc', v, setDoc)} />\n            <TextField label='Author Name' color='primary' onChange={(e) => setAuthor(e.target.value)} value={author} />\n            <TextField label='Secret Key (used to update module)' color='primary' onChange={(e) => setSecretKey(e.target.value)} value={secretKey} type=\"password\" />\n            <div style={{ margin: 5, color: 'purple', }}>{info}</div>\n            <button onClick={uploadModule} >Upload Module</button>\n            <p>Please keep copies of your modules locally, Guyi host on free servers and may loose data</p>\n        </div>\n    )\n}\nexport default Upload\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport TestFormat from './comp/TestFormat';\nimport reportWebVitals from './reportWebVitals';\n\nconst dropped = async (e) => {\n  \n  try {\n    const readDataUrl = (file) => {\n      return new Promise((res, rej) => {\n        let reader = new FileReader()\n        reader.onload = () => res(reader.result)\n        reader.onerror = rej\n        reader.readAsDataURL(file)\n      })\n    }\n    const files = e.dataTransfer.files\n    for (let i = 0; i < files.length; i++) {\n      let f = files[i]\n      let urlText = ''\n      if (f.type.startsWith('text') || f.type.endsWith('json')) {\n        urlText = await f.text()\n      } else {\n        urlText = await readDataUrl(f)\n      }\n      let file = { name: f.name, size: f.size, type: f.type, url: urlText, by: 'user' }\n      global.files.unshift(file)\n\n    }\n    e.preventDefault()\n    \n\n  } catch (e) {\n    console.log('Reading dropped files failed ')\n  }\n}\nconst dragOver = (e) => {\n  let t = e.dataTransfer.types ? e.dataTransfer.types : []\n  let isFile = false\n  t.forEach(f => {\n    if (f.toLowerCase().includes('file')) isFile = true\n  })\n  if (isFile) {\n    e.preventDefault()\n  }\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <div onDrop={(e)=>{e.preventDefault();dropped(e)}} onDragOver={dragOver} >\n      <TestFormat />\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport {\n    BiText, BiSlider, BiEditAlt, BiBadge, BiChip,\n    BiCheckboxChecked, BiRadioCircleMarked, BiLinkAlt, BiGitBranch,\n} from 'react-icons/bi'\nimport {\n    MdMovie,MdMusicVideo,\n    MdBorderRight, MdBorderBottom, MdVideogameAsset,\n    MdImage, MdCheckBoxOutlineBlank,\n} from 'react-icons/md'\nimport { FaInfo, FaMap, FaCode,FaReact } from 'react-icons/fa'\nimport { GiSuspicious, GiLaddersPlatform, GiRunningNinja, GiEchoRipples } from 'react-icons/gi'\nimport { GrRadial, GrToast } from 'react-icons/gr'\nimport { GoDiffModified } from 'react-icons/go'\nimport { BsNewspaper, BsCardHeading } from 'react-icons/bs'\nimport { IoMdSwitch } from 'react-icons/io'\nimport { SiFloatplane } from 'react-icons/si'\nimport { CgSelect } from 'react-icons/cg'\n\nlet size = 30, color = 'blue';\n\nexport const dataBasic = [\n    { name: 'Text', icon: <BiText size={size} color={color} /> },\n    { name: 'Row', icon: <MdBorderRight size={size} color={color} /> },\n    { name: 'Column', icon: <MdBorderBottom size={size} color={color} /> },\n    { name: 'Button', icon: <MdVideogameAsset size={size} color={color} /> },\n    { name: 'TextInput', icon: <BiEditAlt size={size} color={color} /> },\n    { name: 'View', icon: <MdCheckBoxOutlineBlank size={size} color={color} /> },\n    { name: 'Image', icon: <MdImage size={size} color={color} /> },\n    { name: 'Ripples', icon: <GiEchoRipples size={size} color={color} /> },\n    { name: 'Html', icon: <FaCode size={size} color={color} /> },\n    {name:'Video',icon:<MdMovie  size={size} color={color}  /> },\n    {name:'Audio',icon:<MdMusicVideo  size={size} color={color}  /> },\n    { name: 'MapList', icon: <FaMap size={size} color={color} /> },\n    { name: 'CondList', icon: <BiGitBranch size={size} color={color} /> },\n    {name:'ReactRaw',icon:<FaReact  size={size} color={color}  /> },\n]\nexport const dataHtml = [\n    { name: 'MButton', icon: <MdVideogameAsset size={size} color={color} /> },\n    { name: 'MTextField', icon: <BiEditAlt size={size} color={color} /> },\n    { name: 'MAvatar', icon: <GiSuspicious size={size} color={color} /> },\n    { name: 'MBadge', icon: <BiBadge size={size} color={color} /> },\n    { name: 'MChip', icon: <BiChip size={size} color={color} /> },\n    { name: 'MTooltip', icon: <FaInfo size={size} color={color} /> },\n    { name: 'MTypography', icon: <BiText size={size} color={color} /> },\n    { name: 'MCProgress', icon: <GrRadial size={size} color={color} /> },\n    { name: 'MLProgress', icon: <GiRunningNinja size={size} color={color} /> },\n    { name: 'MDialog', icon: <GoDiffModified size={size} color={color} /> },\n    { name: 'MSnackbar', icon: <GrToast size={size} color={color} /> },\n    { name: 'MPaper', icon: <BsNewspaper size={size} color={color} /> },\n    { name: 'MCard', icon: <BsCardHeading size={size} color={color} /> },\n    { name: 'MSwitch', icon: <IoMdSwitch size={size} color={color} /> },\n    { name: 'MSlider', icon: <BiSlider size={size} color={color} /> },\n    { name: 'MFab', icon: <SiFloatplane size={size} color={color} /> },\n    { name: 'MCheckbox', icon: <BiCheckboxChecked size={size} color={color} /> },\n    { name: 'MRadio', icon: <BiRadioCircleMarked size={size} color={color} /> },\n    { name: 'MFormCL', icon: <GiLaddersPlatform size={size} color={color} /> },\n    { name: 'MLink', icon: <BiLinkAlt size={size} color={color} /> },\n    { name: 'MSelect', icon: <CgSelect size={size} color={color} /> }\n\n]\n\nconst Wid = ({ data }) => {\n    return (\n        <Tooltip title={data.name}>\n            <div draggable={true} onDragStart={(e) => {\n                e.dataTransfer.setData('text', data.name)\n            }}\n            >\n                {data.icon}\n            </div>\n        </Tooltip>\n    )\n}\n\nconst Widgets = () => {\n    return (\n        <div style={{ display: 'flex', flexWrap: 'wrap' }} >\n            <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n                <div>Basic</div>\n                {dataBasic.map(val => {\n\n                    return (\n                        <Wid key={val.name} data={val} />\n                    )\n                })}\n            </div>\n            <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n                <div>HTML</div>\n                {dataHtml.map(val => {\n\n                    return (\n                        <Wid key={val.name} data={val} />\n                    )\n                })}\n            </div>\n\n        </div>\n    )\n}\n\nexport default Widgets\n","import React from 'react'\n\nconst EnterInput = (props) => {\n    let localProps={...props}\n   delete localProps['onEnter']\n     let onEnter = props.onEnter\n\n    const keyDown = (e) => {\n        if (e.key === 'Enter'&&typeof onEnter==='function') {\n            onEnter(e)\n        }\n    }\n    return (\n        <input {...localProps} onKeyDown={keyDown} />\n    )\n}\n\nexport default EnterInput\n","\nconst propT = [\n    {\n        type: 'Row',\n        props: [\n            { name: 'Main', prop: 'justifyContent', type: 'select,flex-start,center,space-around,space-evenly,space-between,flex-end', value: 'flex-start' },\n            { name: 'Sec', prop: 'alignItems', type: 'select,flex-start,stretch,center,flex-end', value: 'flex-start' },\n            { name: 'AlignSelf', prop: 'alignSelf', type: 'select,flex-start,stretch,center,flex-end', value: 'flex-start' },\n            { name: 'Wrap', prop: 'flexWrap', type: 'select,nowrap,wrap,wrap-reverse', value: 'no-wrap' },\n            { name: 'Back color', prop: 'backgroundColor', type: 'color', value: '#fff' },\n            { name: 'Width', prop: 'width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'height', type: 'number', value: 0 },\n            { name: 'Border', prop: 'border', type: 'text', value: '' },\n            { name: 'Margin', prop: 'margin', type: 'number', value: 0 },\n            { name: 'Padding', prop: 'padding', type: 'number', value: 0 },\n            { name: 'BoxShadow', prop: 'boxShadow', type: 'text', value: '' },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'background', prop: 'background', type: 'text', value: '' },\n            { name: 'Flex', prop: 'flex', type: 'number', value: 0 },\n            { name: 'Overflow', prop: 'overflow', type: 'select,visible,hidden,auto,scroll' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n            { name: 'Children', prop: 'children', type: 'comps', value: [] },\n        ]\n    },\n    {\n        type: 'Column',\n        props: [\n            { name: 'Main', prop: 'justifyContent', type: 'select,flex-start,center,space-around,space-evenly,space-between,flex-end', value: 'flex-start' },\n            { name: 'Sec', prop: 'alignItems', type: 'select,flex-start,stretch,center,flex-end', value: 'flex-start' },\n            { name: 'AlignSelf', prop: 'alignSelf', type: 'select,flex-start,stretch,center,flex-end', value: 'flex-start' },\n            { name: 'Wrap', prop: 'flexWrap', type: 'select,nowrap,wrap,wrap-reverse', value: 'no-wrap' },\n            { name: 'Back color', prop: 'backgroundColor', type: 'color', value: '#fff' },\n            { name: 'Width', prop: 'width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'height', type: 'number', value: 0 },\n            { name: 'Border', prop: 'border', type: 'text', value: '' },\n            { name: 'Margin', prop: 'margin', type: 'number', value: 0 },\n            { name: 'Padding', prop: 'padding', type: 'number', value: 0 },\n            { name: 'BoxShadow', prop: 'boxShadow', type: 'text', value: '' },\n            { name: 'background', prop: 'background', type: 'text', value: '' },\n            { name: 'Flex', prop: 'flex', type: 'number', value: 0 },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'Overflow', prop: 'overflow', type: 'select,visible,hidden,auto,scroll' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n            { name: 'Children', prop: 'children', type: 'comps', value: [] },\n        ]\n    },\n    {\n        type: 'View',\n        props: [\n            { name: 'Main', prop: 'justifyContent', type: 'select,flex-start,center,space-around,space-evenly,space-between,flex-end', value: 'flex-start' },\n            { name: 'Sec', prop: 'alignItems', type: 'select,flex-start,stretch,center,flex-end', value: 'flex-start' },\n            { name: 'Center', prop: 'center', type: 'bool', value: true },\n            { name: 'AlignSelf', prop: 'alignSelf', type: 'select,flex-start,stretch,center,flex-end', value: 'stretch' },\n            { name: 'Flex', prop: 'flex', type: 'number', value: 0 },\n            { name: 'Back color', prop: 'backgroundColor', type: 'color', value: '#fff' },\n            { name: 'Width', prop: 'width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'height', type: 'number', value: 0 },\n            { name: 'BoxShadow', prop: 'boxShadow', type: 'text', value: '' },\n            { name: 'background', prop: 'background', type: 'text', value: '' },\n            { name: 'Overflow', prop: 'overflow', type: 'select,visible,hidden,auto,scroll', value: 'visible' },\n            { name: 'Cursor', prop: 'cursor', type: 'select,copy,crosshair,grab,help,move,no-drop,none,not-allowed,pointer,progress,revert,row-resize,text,unset,wait,zoom-in,zoom-out', value: 'select' },\n            { name: 'Margin', prop: 'margin', type: 'number', value: 0 },\n            { name: 'MT', prop: 'marginTop', type: 'number', value: 0 },\n            { name: 'MR', prop: 'marginRight', type: 'number', value: 0 },\n            { name: 'MB', prop: 'marginBottom', type: 'number', value: 0 },\n            { name: 'ML', prop: 'marginLeft', type: 'number', value: 0 },\n            { name: 'Padding', prop: 'padding', type: 'number', value: 0 },\n            { name: 'PT', prop: 'paddingTop', type: 'number', value: 0 },\n            { name: 'PR', prop: 'paddingRight', type: 'number', value: 0 },\n            { name: 'PB', prop: 'paddingBottom', type: 'number', value: 0 },\n            { name: 'PL', prop: 'paddingLeft', type: 'number', value: 0 },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'RTL', prop: 'borderTopLeftRadius', type: 'number', value: 0 },\n            { name: 'RTR', prop: 'borderTopRightRadius', type: 'number', value: 0 },\n            { name: 'RBL', prop: 'borderBottomLeftRadius', type: 'number', value: 0 },\n            { name: 'RBR', prop: 'borderBottomRightRadius', type: 'number', value: 0 },\n            { name: 'Border', prop: 'border', type: 'text', value: '' },\n            { name: 'BT', prop: 'borderTop', type: 'text', value: '' },\n            { name: 'BR', prop: 'borderRight', type: 'text', value: '' },\n            { name: 'BB', prop: 'borderBottom', type: 'text', value: '' },\n            { name: 'BL', prop: 'borderLeft', type: 'text', value: '' },\n            { name: 'Positon', prop: 'position', type: 'select,static,absolute,fixed,relative,sticky,initial,inherit', value: '' },\n            { name: 'Left', prop: 'left', type: 'number', value: 0 },\n            { name: 'Right', prop: 'right', type: 'number', value: 0 },\n            { name: 'Bottom', prop: 'bottom', type: 'number', value: 0 },\n            { name: 'Top', prop: 'top', type: 'number', value: 0 },\n            { name: 'Opacity', prop: 'opacity', type: 'number', value: 0 },\n            { name: 'BackgroundImage', prop: 'backgroundImage', type: 'text', value: '' },\n            { name: 'BackgroundRepeat', prop: 'backgroundRepeat', type: 'select,repeat,no-repeat,repeat-x,repeat-y,space,round', value: 'no-repeat' },\n            { name: 'BackgroundSize', prop: 'backgroundSize', type: 'select,cover,auto,contain', value: 'cover' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n            { name: 'Child', prop: 'child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'Text',\n        props: [\n            { name: 'Value', prop: 'value', type: 'text', value: '   ' },\n            { name: 'FontSize', prop: 'fontSize', type: 'number', value: 16 },\n            { name: 'Color', prop: 'color', type: 'color', value: '#333' },\n            { name: 'Style', prop: 'color', type: 'select,narmal,italic,obligue,inherit,initial', value: 'normal' },\n            { name: 'FontWeight', prop: 'fontWeight', type: 'select,normal,bold,bolder' },\n            { name: 'Decoration', prop: 'textDecoration', type: 'select,none,underline,line-through,overline' },\n            { name: 'TextAlign', prop: 'textAlign', type: 'select,left,center,right', value: 'left' },\n            { name: 'Margin', prop: 'margin', type: 'number', value: 0 },\n            { name: 'Padding', prop: 'padding', type: 'number', value: 0 },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n\n        ]\n    },\n    {\n        type: 'Button',\n        props: [\n            { name: 'Value', prop: 'value', type: 'text', value: '   ' },\n            { name: 'Color', prop: 'color', type: 'color', value: '#333' },\n            { name: 'FontSize', prop: 'number', type: 'number', value: 16 },\n            { name: 'BackColor', prop: 'backgroundColor', type: 'color', value: 'white' },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'Width', prop: 'width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'height', type: 'number', value: 0 },\n        ]\n    },\n    {\n        type: 'Image',\n        props: [\n            { name: 'Source', prop: 'src', type: 'res', value: '' },\n            { name: 'Width', prop: 'width', type: 'number', value: 80 },\n            { name: 'Height', prop: 'height', type: 'number', value: 80 },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'Border', prop: 'border', type: 'text', value: '' },\n            { name: 'ObjectFit', prop: 'objectFit', type: 'select,fill,contain,cover,none,scale-down', value: '' },\n        ]\n    },\n    {\n        type: 'TextInput',\n        props: [\n            { name: 'Value', type: 'text', prop: 'value', value: '', },\n            { name: 'Width', type: 'number', prop: 'width', value: 'auto', },\n            { name: 'Height', type: 'number', prop: 'height', value: 'auto' },\n            { name: 'Border', type: 'text', prop: 'border', value: '' },\n            { name: 'Type', prop: 'type', value: 'text', type: \"select,button,checkbox,color,date,datetime-local,email,file,hidden,image,month,number,password,radio,range,reset,search,submit,tel,text,time,url\" },\n            { name: 'Accept', prop: 'accept', type: 'text', value: '' },\n            { name: 'Autocomplete', prop: 'autocomplete', type: 'bool', value: false },\n            { name: 'Checked', prop: 'checked', type: 'bool', value: false },\n            { name: 'Disabled', prop: 'disabled', type: 'bool', value: false },\n            { name: 'Max', prop: 'max', type: 'number', value: 0 },\n            { name: 'Min', prop: 'min', type: 'number', value: 0 },\n            { name: 'Multiple', prop: 'multiple', type: 'bool', value: false },\n            { name: 'Name', prop: 'name', type: 'text', value: '' },\n            { name: 'Placeholder', prop: 'placeholder', type: 'text', value: '' },\n            { name: 'Readonly', prop: 'readonly', type: 'text', value: '' },\n            { name: 'Pattern', prop: 'pattern', type: 'text', value: '' },\n            { name: 'Step', prop: 'step', type: 'number', value: 1 },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n\n        ]\n    },\n    {//maplist\n        type: 'MapList',\n        props: [\n            { name: 'Template', prop: 'Template', type: 'text', value: '' },\n            { name: 'Mapping', prop: 'Mapping', type: 'json', value: '{}' },\n            { name: 'Extras', prop: 'Extras', type: 'json', value: '{}', },\n            { name: 'FormatInfo', prop: 'FormatInfo', type: 'json', value: '{}', },\n            { name: 'Data', prop: 'Data', type: 'mapdata,none', value: '[]' },\n        ]\n    },\n    {\n        type: 'CondList',\n        props: [\n            { name: 'Extras', prop: 'Extras', type: 'json', value: {} },\n            { name: 'Routes', prop: 'Routes', type: 'conditional', value: [] },\n        ]\n    },\n    {\n        type: 'Html',\n        props: [\n            { name: 'Html', prop: 'Html', type: 'html', value: '' },\n            { name: 'Width', prop: 'Width', type: 'number', value: '100%' },\n            { name: 'Height', prop: 'Height', type: 'number', value: '100%' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n        ]\n    },\n    {\n        type: 'Icon', props: [\n            { name: 'Size', prop: 'Size', type: 'number', value: 30 },\n            { name: 'Color', prop: 'Color', type: 'color', value: '#333' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n        ]\n    },\n    {\n        type: 'Ripples', props: [\n            { name: 'Color', prop: 'Color', type: 'color', value: '' },\n            { name: 'During', prop: 'During', type: 'number', value: '' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'Video', props: [\n            { name: 'Src', prop: 'src', type: 'res', value: '' },\n            { name: 'Controls', prop: 'controls', type: 'bool', value: false },\n            { name: 'Width', prop: 'width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'height', type: 'number', value: 0 },\n            { name: 'Autoplay', prop: 'autoplay', type: 'bool', value: false },\n            { name: 'Mute', prop: 'mute', type: 'bool', value: false },\n            { name: 'Loop', prop: 'loop', type: 'bool', value: false },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'Border', prop: 'border', type: 'text', value: '' },\n            { name: 'ObjectFit', prop: 'objectFit', type: 'select,fill,contain,cover,none,scale-down', value: '' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n        ]\n    },\n    {\n        type: 'Audio', props: [\n            { name: 'Src', prop: 'src', type: 'text', value: '' },\n            { name: 'Controls', prop: 'controls', type: 'bool', value: false },\n            { name: 'Width', prop: 'width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'height', type: 'number', value: 0 },\n            { name: 'Autoplay', prop: 'autoplay', type: 'bool', value: false },\n            { name: 'Mute', prop: 'mute', type: 'bool', value: false },\n            { name: 'Loop', prop: 'loop', type: 'bool', value: false },\n            { name: 'Radius', prop: 'borderRadius', type: 'number', value: 0 },\n            { name: 'Border', prop: 'border', type: 'text', value: '' },\n            { name: 'ObjectFit', prop: 'objectFit', type: 'select,fill,contain,cover,none,scale-down', value: '' },\n            { name: 'Class', prop: 'className', type: 'text', value: '' },\n            { name: 'DomId', prop: 'id', type: 'text', value: '' },\n        ]\n    },\n    {\n        type: 'ReactRaw', props: [\n            { name: 'Function', prop: 'Function', type: 'text', value: '' },\n            { name: 'Children', prop: 'Children', type: 'comps', value: [] },\n        ]\n    },\n    {//mbutton\n        type: 'MButton',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'text', value: '' },\n            { name: 'Variant', prop: 'Variant', type: 'select,contained,outlined,text', value: 'contained' },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: '' },\n            { name: 'Size', prop: 'Size', type: 'select,small,medium,large' },\n            { name: 'Disabled', prop: 'Disabled', type: 'bool', value: false },\n            { name: 'Elevation', prop: 'Elevation', type: 'bool', value: false },\n        ]\n    },\n    {\n        type: 'MTextField',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'text', value: '' },\n            { name: 'Label', prop: 'Label', type: 'text', value: '' },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,stardard', value: '' },\n            { name: 'Size', prop: 'Size', type: 'select,small,medium,large', value: 'medium' },\n            { name: 'Type', prop: 'Type', type: 'select,text,number,checkbox,radio,label', value: 'text' },\n            { name: 'Variant', prop: 'Variant', type: 'select,default,filled,outlined', value: 'standard' },\n            { name: 'Error', prop: 'Error', type: 'bool', value: false },\n            { name: 'HelperText', prop: 'HelperText', type: 'text', value: '' },\n            { name: 'Multiline', prop: 'Multiline', type: 'bool', value: false },\n            { name: 'Margin', prop: 'Margin', type: 'select,none,dense,normal' },\n            { name: 'Disabled', prop: 'Disabled', type: 'bool', value: false },\n            { name: 'Width', prop: 'Width', type: 'number', value: 0 },\n\n        ]\n    },\n    {\n        type: 'MAvatar',\n        props: [\n            { name: 'Alt', prop: 'Alt', type: 'text', value: '' },\n            { name: 'Source', prop: 'Source', type: 'text', value: '' },\n            { name: 'Variant', prop: 'Variant', type: 'select,square,rounded,circular', value: 'circular' },\n            { name: 'Width', prop: 'Width', type: 'number', value: 0 },\n            { name: 'Height', prop: 'Height', type: 'number', value: 0 },\n\n        ]\n    },\n    {\n        type: 'MBadge',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'number', value: 0 },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,standard', value: '#333' },\n            { name: 'Vertical', prop: 'Vertical', type: 'select,top,bottom', value: 'top' },\n            { name: 'Horizontal', prop: 'Horizontal', type: 'select,right,left', value: 'right' },\n            { name: 'ShowZero', prop: 'ShowZero', type: 'bool', value: 'false' },\n            { name: 'Variant', prop: 'Variant', type: 'select,dot,standard', value: 'standard' },\n            { name: 'Disabled', prop: 'Disabled', type: 'bool', value: false },\n            { name: 'Overlap', prop: 'Overlap', type: 'bool', value: false },\n            { name: 'Invisible', prop: 'Invisible', type: 'bool', value: false },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n\n        ]\n    },\n    {\n        type: 'MChip',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'text', value: '' },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: 'default' },\n            { name: 'Variant', prop: 'Variant', type: 'select,default,outlined', value: 'default' },\n            { name: 'Size', prop: 'Size', type: 'select,medium,small', value: 'medium' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'MTooltip',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'text', value: '' },\n            {\n                name: 'Placement', prop: 'Placement', type: 'select,top-start,top,top-end,bottom-start,bottom,bottom-end,' +\n                    'left-start,left,left-end,right-start,right,right-end'\n            },\n            { name: 'Arrow', prop: 'Arrow', type: 'bool', value: false },\n            { name: 'Open', prop: 'Open', type: 'bool', value: false },\n            { name: 'Interactive', prop: 'Interactive', type: 'bool', value: false },\n            { name: 'LeaveDealy', prop: 'LeaveDelay', type: 'number', value: 3000 },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n\n    },\n    {\n        type: 'MTypography',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'text', value: '' },\n            {\n                name: 'Variant', prop: 'Variant', type: 'select,h1,h2,h3,h4,h5,h6,subtitle1,' +\n                    'subtitle2,body1,body2,caption,button,overline,srOnly,inherit', value: ''\n            },\n            { name: 'Align', prop: 'Align', type: 'select,inherit,left,center,right,justify', value: '' },\n            { name: 'Color', prop: 'Color', type: 'select,initial,inherit,primary,secondary,textprimary,textSecondary,error' },\n            { name: 'Display', prop: 'Display', type: 'select,initial,block,inline', value: '' },\n            { name: 'NoWrap', prop: 'NoWrap', type: 'bool', value: false },\n            { name: 'GutterBottom', prop: 'GutterBottom', type: 'bool', value: false },\n        ]\n    },\n    {\n        type: 'MCProgress',\n        props: [\n            { name: 'Variant', prop: 'Variant', type: 'select,determinate,indeterminate', value: '' },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: 'default' },\n            { name: 'Value', prop: 'Value', type: 'number', value: 0 },\n\n        ]\n    },\n    {\n        type: 'MLProgress',\n        props: [\n            { name: 'Variant', prop: 'Variant', type: 'select,determinate,indeterminate,buffer', value: '' },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: 'default' },\n            { name: 'Value', prop: 'Value', type: 'number', value: 0 },\n            { name: 'ValueBuffer', prop: 'ValueBuffer', type: 'number', value: 0 },\n\n        ]\n    },\n    {\n        type: 'MDialog',\n        props: [\n            { name: 'Open', prop: 'Open', type: 'bool', value: false },\n            { name: 'MaxWidth', prop: 'MaxWidth', type: 'number', value: 0 },\n            { name: 'FullScreen', prop: 'FullScreen', type: 'bool', value: false },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'MSnackbar',\n        props: [\n            { name: 'Open', prop: 'Open', type: 'bool', value: false },\n            { name: 'Message', prop: 'Message', type: 'text', value: '' },\n            { name: 'Vertical', prop: 'Vertical', type: 'select,top,bottom', value: 'bottom' },\n            { name: 'Horizontal', prop: 'Horizontal', type: 'select,left,center,right', value: 'left' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n\n        ]\n    },\n    {\n        type: 'MPaper',\n        props: [\n            { name: 'Elavation', prop: 'Elavation', type: 'number', value: 0 },\n            { name: 'Square', prop: 'Square', type: 'bool', value: false },\n            { name: 'Variant', prop: 'Variant', type: 'select,default,outline', value: 'default' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n\n        ]\n    },\n    {\n        type: 'MCard',\n        props: [\n            { name: 'Variant', prop: 'Variant', type: 'select,default,outlined', value: 'default' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'MSwitch',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'bool', value: false },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: 'standard' },\n            { name: 'Name', prop: 'Name', type: 'text', value: '' },\n            { name: 'Size', prop: 'Size', type: 'select,small,medium', value: 'normal' },\n        ]\n    },\n    {\n        type: 'MSlider',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'number', value: 0 },\n            { name: 'Marks', prop: 'Marks', type: 'bool', value: false },\n            { name: 'Step', prop: 'Step', type: 'number', value: 0 },\n            { name: 'DefaultValue', prop: 'DefaultValue', type: 'number', value: 0 },\n            { name: 'Orientation', prop: 'Orientation', type: 'select,horizontal,vertical', value: 'horizontal' },\n            { name: 'Max', prop: 'Max', type: 'number', value: 0 },\n            { name: 'Min', prop: 'Min', type: 'number', value: 0 },\n            { name: 'labelOn', prop: 'LabelOn', type: 'select,on,auto,off', value: false },\n\n        ]\n    },\n    {\n        type: 'MFab',\n        props: [\n            { name: 'Color', prop: 'Color', type: 'select,primary,default,secondary', value: 'default' },\n            { name: 'Size', prop: 'Size', type: 'select,small,medium,large', value: 'large' },\n            { name: 'Variant', prop: 'Variant', type: 'select,extended,round', value: 'default' },\n            { name: 'Disabled', prop: 'Disabled', type: 'bool', value: false },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'MCheckbox',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'bool', value: false },\n            { name: 'DefaultChecked', prop: 'DefaultChecked', type: 'bool', value: false },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: 'default' },\n            { name: 'Indeterminate', prop: 'Indeterminate', type: 'bool', value: false },\n            { name: 'Size', prop: 'Size', type: 'selct,small,medium,large', value: 'medium' },\n\n        ]\n    },\n    {\n        type: 'MRadio',\n        props: [\n            { name: 'Value', prop: 'Value', type: 'bool', value: false },\n            { name: 'DefaultChecked', prop: 'DefaultChecked', type: 'bool', value: false },\n            { name: 'Color', prop: 'Color', type: 'select,primary,secondary,default', value: 'default' },\n            { name: 'Indeterminate', prop: 'Indeterminate', type: 'bool', value: false },\n            { name: 'Size', prop: 'Size', type: 'selct,small,medium,large', value: 'medium' },\n\n        ]\n    },\n    {\n        type: 'MFormCL',\n        props: [\n            { name: 'Label', prop: 'Label', type: 'text', value: '' },\n            { name: 'Placement', prop: 'Placement', type: 'select,top,start,bottom,end', value: 'start' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'MLink',\n        props: [\n            { name: 'Href', prop: 'Href', type: 'text', value: '' },\n            { name: 'Color', prop: 'Color', type: 'select,initial,inherit,primary,secondary,textPrimary,textSecondary,error' },\n            { name: 'variant', prop: 'Variant', type: 'select,h3,h5,body1,body2,button', value: '' },\n            { name: 'Underline', prop: 'Underline', type: 'select,none,hover,always', value: '' },\n            { name: 'Child', prop: 'Child', type: 'comp', value: [] },\n        ]\n    },\n    {\n        type: 'MSelect',\n        props: [\n            { name: 'Values', prop: 'Values', type: 'text', value: '' },\n            { name: 'Value', prop: 'Value', type: 'text', value: '' },\n\n        ]\n    }\n]\n//exports.propT = propT\n//#region\nconst eventT = [\n    { name: 'Button', events: [{ name: 'onClick', args: 'e' }, { name: 'onDbCLick', args: 'e' }] },\n    { name: 'View', events: [{ name: 'onClick', args: 'e' }, { name: 'onDbCLick', args: 'e' }] },\n    { name: 'TextInput', events: [{ name: 'onChange', args: 'e', }, { name: 'onClick', args: 'e', }] },\n    { name: 'Icon', events: [{ name: 'onClick', args: 'e' }] },\n    { name: 'Ripples', events: [{ name: 'onClick', args: 'e' }] },\n    { name: 'TextInput', events: [{ name: 'onChange', args: 'e' }, { name: 'value', args: '' }] },\n    { name: 'Html', events: [{ name: 'onClick', args: 'e' }] },\n    { name: 'MButton', events: [{ name: 'onClick', args: 'e' }] },\n    { name: 'MTextField', events: [{ name: 'onChange', args: 'e' }] },\n    { name: 'MChip', events: [{ name: 'onClick', args: 'e', }, { name: 'onDelete', args: 'e' },] },\n    { name: 'MTooltip', events: [{ name: 'onOpen', args: '' }, { name: 'onClose', args: '' }] },\n    { name: 'MDialog', events: [{ name: 'onClose', args: '' }] },\n    { name: 'MSnackbar', events: [{ name: 'onClose', args: '' }] },\n    { name: 'MSwitch', events: [{ name: 'onChange', args: '' }] },\n    { name: 'MSlider', events: [{ name: 'onChange', args: '' }] },\n    { name: 'MFab', events: [{ name: 'onClick', args: 'e' }] },\n    { name: 'MCheckbox', events: [{ name: 'onChange', args: 'e' }] },\n    { name: 'MRadio', events: [{ name: 'onChange', args: 'e' }] },\n    { name: 'MAvatar', events: [{ name: 'onClick', args: 'e' }] },\n    { name: 'MSelect', events: [{ name: 'onChange', args: 'val' }] }\n]\n\nconst getCodeClass = (code, prev = false, inst = {}) => {\n    let tree = []\n    if (inst.props && inst.props.tree) {\n        tree = inst.props.tree\n    }\n    const mergeState = (...args) => {\n        try {\n            let tmpState = { ...inst.state }\n            args.forEach((a, i) => {\n                if (((i === 0) || (i % 2 === 0)) && (args[i + 1] !== undefined)) {\n                    tmpState[a] = args[i + 1]\n                }\n            })\n            inst.setState(tmpState)\n        } catch (e) {\n            console.log('ms error', e)\n        }\n    }\n\n    const tiePS = (id, prop, value, defValue, warn = true) => {\n        let locTree = []\n        if (inst.props && inst.props.tree) {\n            locTree = inst.props.tree\n        }\n        const ids = locTree.map(val => val.id)\n        const pos = ids.indexOf(id)\n        if (pos === -1) return null\n        let props = locTree[pos].props\n        if (ids.includes(id)) {\n            let type = locTree[ids.indexOf(id)].name\n            let pts = propT.map(t => t.type)\n            let pos = pts.indexOf(type)\n            if (pos !== -1) {\n                let props = propT[pos].props\n                let pnames = props.map(p => p.name)\n                let ppos = pnames.indexOf(prop)\n                if (ppos !== -1) {\n                    prop = props[ppos].prop\n                }\n            }\n        }\n        let val = (value === undefined || value === null) ? defValue : value\n        props[prop] = val\n        return props\n\n    }\n    const getRef = (id, dontWrap = true) => {\n        let ids = tree.map(c => c.id)\n        let pos = ids.indexOf(id)\n        if (pos === -1) return null\n        let ref = inst.usedRefs[id]\n        if (ref === undefined) return null\n        return dontWrap ? ref.current : ref\n    }\n    const getFile = (name, meta = false) => {\n        if (typeof name === 'string' && name.startsWith('res://')) {\n            name = name.split('res://')[1]\n        }\n        if (!prev) {\n            let fileNames = global.files.map(f => f.name)\n            let filePos = fileNames.indexOf(name)\n            if (filePos !== -1) {\n                if (meta === true)\n                    return global.files[filePos]\n                else\n                    return global.files[filePos].url\n            }\n        } else {\n            let fnames = prev.files.map(f => f.name)\n            let fpos = fnames.indexOf(name)\n            if (fpos !== -1) {\n                return prev.files[fpos].url\n            }\n        }\n        return null\n    }\n    const toFile = (dataurl) => {\n        try {\n            let arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length,\n                u8arr = new Uint8Array(n);\n            while (n--) {\n                u8arr[n] = bstr.charCodeAt(n)\n            }\n            return new Blob([u8arr], { type: mime })\n        } catch (e) {\n            return null\n        }\n    }\n    try {\n        let body = `\n            ${code}\n            return main\n        `\n        //eslint-disable-next-line\n        let c = Function(body)()\n        let instance = new c({\n            getState: () => inst.state, tiePS, getRef, toFile, mergeState,\n            getFile, reactClass: inst, setState: (s) => inst.setState(s),\n            getProps: () => inst.props.tree[0].props,\n            getEvents: () => inst.events,\n            getExtras: () => inst.parentData,\n            getp: () => inst.props.tree[0].props,\n        })\n        if (typeof instance === 'object') {\n            let keys = Object.getOwnPropertyNames(instance).concat(Object.getOwnPropertyNames(instance.__proto__))\n            let methods = []\n            let props = []\n            keys.forEach(k => {\n                if (typeof instance[k] === 'function') {\n                    methods.push(k)\n                } else {\n                    props.push(k)\n                }\n            })\n            methods = methods.reverse()\n            return { instance, keys, methods, props }\n        }\n    } catch (e) {\n        if (tree[0]) {\n            console.warn(`Code error ${tree[0].name} ${e.message}`)\n        }\n    }\n    return { instance: {}, keys: [], methods: [], props: [] }\n}\n\nexport { propT, eventT, getCodeClass }\n\n","import LocalForage from 'localforage'\n\n\nglobal.store = {\n    /*Set store item\n    *@param [string] name\n    *@param [any] value\n    *@param [(e)=>Null] cb\n    */\n    set(name, value, cb, cb2) {\n        let schema = global.schema[name]\n        if (schema) {\n            try {\n                if (typeof schema.def === 'object') {\n                    localStorage.setItem(name, JSON.stringify(value))\n                } else {\n                    localStorage.setItem(name, value)\n\n                }\n                if (typeof cb === 'function')\n                    cb(value)\n                if (typeof cb2 === 'function')\n                    cb2(value)\n                return true\n            } catch (e) {\n                console.log('Data not set', name, value)\n            }\n        } else {\n            console.log('Not in store', name)\n        }\n        return false\n    },\n    get(name) {\n        let schema = global.schema[name]\n        if (schema) {\n            let val = localStorage.getItem(name)\n            if (val !== null) {\n                switch (typeof schema.def) {\n                    case 'number':\n                        val = Number(val)\n                        break;\n                    case 'object':\n                        try {\n                            val = JSON.parse(val)\n                        } catch (e) {\n                            console.log('store val corrupt', name, e.message)\n                            return null\n                        }\n                        break;\n                    case 'boolean':\n                        val = val === 'true'\n                        val = !!val\n\n                        break\n                    default:\n                        break;\n                }\n                return val\n            } else {\n                return schema.def\n            }\n        } else {\n            console.log('Get item not in schema', name)\n            return null\n        }\n    }\n}\nglobal.schema = {\n    adress: { def: 'ws://localhost:8080' },\n    reloadno: { def: 0 },\n    layoutstate: { def: { new: 'Desk', old: 'Desk' } },\n    lastsave: { def: '' },\n    lastopen: { def: '' },\n    toolsindex: { def: 0 },\n    toolssync: { def: true },\n    doc: { def: '' },\n    consoleheight: { def: 30 },\n    consoleopen: { def: true },\n    lasttest:{def:''},\n    mipmapopen:{def:true},\n    restype:{def:'media'},\n}\nconst get = global.store.get\nconst set = global.store.set\n\n\nconst newApp=[\n    {\n        name: 'Main', state: {}, locals: {}, propTypes: [], funcs: [{\n            name: 'globals', props: {},\n            events: {},\n\n        }],\n        classCode:\n            `//write code for module here\nclass main {\nconstructor({getState,setState,mergeState,tiePS,getRef}){\n    this.gs=getState\n    this.ss=setState\n    this.ms=mergeState\n    this.tiePS=tiePS\n    this.getRef=getRef\n}\n//put code below :)\n\n\n}\n`\n    },\n    { name: 'Column', id: 'root', props: {} },\n]\n\nlet wsRef = null\n\nconst fetchApp = (disMes) => {\n    console.log('fetching')\n    try {\n        if (wsRef) {\n            wsRef.send(JSON.stringify({\n                type: 'get'\n            }))\n        } else {\n            disMes('No connection ', 1000)\n        }\n\n    } catch (e) {\n        console.log('Fetch error', e.message)\n    }\n}\nconst uploadApp = (typeNo, disMes) => {\n    try {\n        if (wsRef) {\n            let reloadNo = get('reloadno')\n            if (typeNo === reloadNo) {\n                wsRef.send(JSON.stringify({\n                    type: 'update',\n                    app: {\n                        modules: global.modules, comps: global.comps,\n                        remodules: global.remodules, files: global.files\n                    }\n                }))\n                disMes('uploaded', 700)\n            }\n        } else {\n            // console.log('No connection')\n            // disMes('No Connection')\n        }\n    } catch (e) {\n        console.log('upload erro', e.message)\n    }\n}\n\nconst changeSync = (sync) => {\n    try {\n        if (wsRef) {\n            wsRef.send(JSON.stringify({\n                type: 'useupdate',\n                data: sync,\n            }))\n        } else {\n            throw new Error('Not connected')\n        }\n\n    } catch (e) {\n        console.log( e.message)\n    }\n}\n\nconst initApp = (adress, disMes, setConnected, open) => {\n    try {\n        let ws = new WebSocket(adress)\n        ws.onclose = (e) => {\n            console.log('Server socket down')\n            if (wsRef) {\n                try {\n                    wsRef.close()\n                    wsRef = null\n                    setConnected(false)\n                } catch (e) {\n                    console.log(e.message)\n                }\n            }\n            disMes('Closed' + e.message)\n        }\n        ws.onerror = (e) => {\n            console.log('Server error', e.message)\n        }\n        ws.onopen = () => {\n            wsRef = ws\n            disMes('Listening')\n            set('adress', adress)\n            setConnected(true)\n        }\n        ws.onmessage = (mes) => {\n            try {\n                let data = JSON.parse(mes.data)\n                if (data.type === 'reload') {\n                    console.log('reload', data.app)\n                    if (get('toolssync')) {\n                        open(data)\n                        disMes('Reloaded', 1000)\n                    }\n                }\n                if (data.type === 'getresult') {\n                    open(data)\n                    disMes('Latest', 1000)\n                }\n            } catch (e) {\n                console.log('Message error', e)\n            }\n        }\n\n    } catch (e) {\n        return false\n    }\n\n}\n\nconst shortCuts = (e, setTabPos, open, save, saveLayout, disMes) => {\n    if (e.ctrlKey) {\n        switch (e.key) {\n            case '1':\n                e.preventDefault()\n                setTabPos(0)\n                break;\n            case '2':\n                e.preventDefault()\n                setTabPos(1)\n                break;\n            case '3':\n                e.preventDefault()\n                setTabPos(2)\n                break;\n            case '4':\n                e.preventDefault()\n                setTabPos(3)\n                break;\n            case '5':\n                e.preventDefault()\n                setTabPos(4)\n                break;\n            case 'f':\n            case 'F':\n                e.preventDefault()\n                uploadApp(1, disMes)\n                break;\n            case 's':\n            case 'S':\n                e.preventDefault()\n                save()\n                uploadApp(0, disMes)\n                break;\n            case 'o':\n            case 'O':\n                e.preventDefault()\n                open();\n                break;\n            default:\n            // console.log('just ctrl')\n\n        }\n\n    }\n    if (e.shiftKey) {\n        switch (e.key) {\n            case 1:\n                e.preventDefault()\n                saveLayout('edit')\n                break;\n            case 2:\n                e.preventDefault()\n                saveLayout('lay2')\n                break;\n            case 3:\n                e.preventDefault()\n                saveLayout('code')\n                break;\n            default:\n            //just shift\n        }\n    }\n}\n\nconst importOldProjos = async() => {\n    for (const p of Object.keys(localStorage)) {//import old apps\n        try {\n            let pr = JSON.parse(localStorage[p])\n            if (Array.isArray(pr.modules)) {\n                let data = { ...pr, time: (new Date()).toDateString() }\n                await LocalForage.setItem(p, JSON.stringify(data))\n                localStorage.removeItem(p)\n            }\n            let keys = await LocalForage.keys()\n            localStorage.setItem('projectnames', JSON.stringify(keys))\n\n        } catch (e) {\n            // console.log('not project', p)\n        }\n    }\n}\nimportOldProjos()\n\nconst done='DONE'\nexport { fetchApp, uploadApp, initApp, changeSync, shortCuts,done ,newApp }\n\n\n","import React from 'react'\nimport { Row, Column, View, Text, Button, Image, ErrorBoundary } from './subcomp/BaseComps'\nimport * as md from 'react-icons/md'\nimport * as fa from 'react-icons/fa'\nimport * as bi from 'react-icons/bi'\nimport Ripples from 'react-ripples'\n\nimport MButton from '@material-ui/core/Button'\nimport MTextField from '@material-ui/core/TextField'\nimport MAvatar from '@material-ui/core/Avatar'\nimport MBadge from '@material-ui/core/Badge'\nimport MChip from '@material-ui/core/Chip'\nimport MTooltip from '@material-ui/core/Tooltip'\nimport MTypography from '@material-ui/core/Typography'\nimport MCProgress from '@material-ui/core/CircularProgress'\nimport MLProgress from '@material-ui/core/LinearProgress'\nimport MDialog from '@material-ui/core/Dialog'\nimport MSnackbar from '@material-ui/core/Snackbar'\nimport MPaper from '@material-ui/core/Paper'\nimport MCard from '@material-ui/core/Card'\nimport MSwitch from '@material-ui/core/Switch'\nimport MSlider from '@material-ui/core/Slider'\nimport MFab from '@material-ui/core/Fab'\nimport MCheckbox from '@material-ui/core/Checkbox'\nimport MRadio from '@material-ui/core/Radio'\nimport MFormCL from '@material-ui/core/FormControlLabel'\nimport MLink from '@material-ui/core/Link'\nimport MSelect from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nimport { getCodeClass } from './util/data'\n\nconst drawComp = (tree, id, prev = false, slData = {}, dynamic = false) => {\n    const inst = slData.inst\n    let dynamicCount = slData.dynamicCount\n\n    let comp = <p>unknown</p>\n    const cnames = tree.map(c => c.id)\n\n\n    let pos = cnames.indexOf(id)\n\n    if (pos === -1 && !dynamic)\n        return comp\n    let node = {}\n    if (dynamic) {\n        node = dynamic\n    } else {\n        node = tree[pos]\n    }\n\n    //resolve resource urls\n    if (node.props === undefined) node.props = {}\n    if (node.events === undefined) node.events = {}\n    const props = node.props\n    const events = node.events\n\n    let resources = {}\n    global.files.forEach(f => {\n        resources[f.name] = f.url\n    })\n    const getRef = () => {\n        let ref = React.createRef()\n        if (inst.usedRefs[id]) {\n            ref = inst.usedRefs[id]\n        } else {\n            inst.usedRefs[id] = ref\n        }\n        return ref\n    }\n    const getEvent = (type) => {\n        try {\n            let m = events[type] || ''\n            let p = slData.class[m]\n            if (typeof p === 'function') {\n                return (...args) => {\n                    try { return slData.class[m](...args) }\n                    catch (e) { console.warn(`Method ${type}[${m}] error ${e.message}`, e, slData.class) }\n                }\n            } else {\n                return undefined\n            }\n        } catch (e) {\n            console.log(e, slData)\n        }\n    }\n    const drawChilds = (name) => {\n        let childs = node.props[name]\n        let data = []\n        if (Array.isArray(childs) && childs.length > 0) {\n            childs.forEach(c => {\n                let child = <p>NO TREE</p>\n                if (typeof c === 'string' && c.includes(',')) {\n                    let tree_id = c.split(',')\n                    if (!prev) {\n                        let mnames = global.modules.map(m => m[0].name)\n                        let pos = mnames.indexOf(tree_id[0])\n                        if (pos !== -1) {\n                            // console.log('got tree ',pos,global.modules[pos])\n                            child = drawComp(global.modules[pos], tree_id[1], prev, slData)\n                            data.push(child)\n                        } else {\n                            let rmnames = global.remodules.map(m => m[0].name)\n                            let rpos = rmnames.indexOf(tree_id[0])\n                            if (rpos !== -1) {\n                                // console.log('got tree ',pos,global.modules[pos])\n                                child = drawComp(global.remodules[rpos], tree_id[1], prev, slData)\n                                data.push(child)\n                            }\n                        }\n                    } else {\n                        let dnames = prev.deps.map(d => d[0].name)\n                        let pos = dnames.indexOf(tree_id[0])\n                        if (pos !== -1) {\n                            // console.log('got tree ',pos,global.modules[pos])\n                            child = drawComp(prev.deps[pos], tree_id[1], prev, slData)\n                            data.push(child)\n                        }\n                    }\n\n                } else if (typeof c === 'string') {\n                    child = drawComp(tree, c, prev, slData)\n                    data.push(child)\n                } else if (typeof c === 'object' && c.comp) {\n                    //  child = c.comp\n                }\n\n            })\n        }\n        return data\n    }\n    //#region basic comps\n    if (node.name === 'Column') {\n        let styleProps = { ...props, children: '' }\n        comp = <Column key={id} ref={getRef()} data={drawChilds('children')} styles={styleProps}\n            className={props.className} id={props.id} />\n    }\n    if (node.name === 'Row') {\n        let styleProps = { ...props, children: '' }\n        comp = <Row key={id} ref={getRef()} data={drawChilds('children')} styles={styleProps}\n            className={props.className} id={props.id} />\n    }\n    if (node.name === 'View') {\n        let backImage = ''\n        if (props.backgroundImage) {\n            let src = props.backgroundImage\n            if (src && src.startsWith('res://')) {\n                let name = src.split('//')[1]\n                if (!prev) {\n                    src = resources[name]\n                } else {\n                    let fnames = prev.files.map(f => f.name)\n                    let pos = fnames.indexOf(name)\n                    if (pos !== -1) {\n                        src = prev.files[pos].url\n                    }\n                }\n            }\n            backImage = `url(${src})`\n        }\n        let styleProps = { ...props, children: '', backgroundImage: backImage }\n        comp = <View key={id} ref={getRef()} data={drawChilds('child')} styles={styleProps} center={props.center}\n            onClick={getEvent('onClick')}\n            className={props.className} id={props.id}\n        />\n    }\n    if (node.name === 'Text') {\n        let styleProps = { ...props, value: '' }\n        comp = <Text key={id} ref={getRef()} value={props.value} styles={styleProps}\n            className={props.className} id={props.id} />\n    }\n    if (node.name === 'Button') {\n        let styleProps = { ...props, value: '' }\n        comp = <Button key={id} ref={getRef()} value={props.value} styles={styleProps}\n            className={props.className} id={props.id}\n            onClick={getEvent('onClick')}\n            ondblClick={getEvent('ondbClick')}\n        />\n    }\n    if (node.name === 'TextInput') {\n        let styleProps = { ...props, value: '' }\n        comp = <input\n            {...styleProps}\n            key={id} ref={getRef()}\n            value={props.value}\n            styles={styleProps}\n            className={props.className}\n            id={props.id}\n            type={styleProps.type || 'text'}\n\n            onClick={getEvent('onClick')}\n            onChange={getEvent('onChange')}\n        />\n    }\n    if (node.name === \"Image\") {\n        let src = props.src\n        if (src && src.startsWith('res://')) {\n            let name = src.split('//')[1]\n            if (!prev) {\n                src = resources[name]\n            } else {\n                let fnames = prev.files.map(f => f.name)\n                let pos = fnames.indexOf(name)\n                if (pos !== -1) {\n                    src = prev.files[pos].url\n                }\n            }\n        }\n        comp = <Image key={id} ref={getRef()} src={src} alt={props.alt} style={props}\n            className={props.className} id={props.id}\n            onClick={getEvent('onClick')}\n        />\n    }\n    if (node.name === 'MapList') {\n        let tmp = props.Template\n        const getProps = (type, obj = true) => {\n            let data = obj ? {} : []\n            if (typeof !props[type] === 'string') {\n                try {\n                    let p = JSON.parse(props[type])\n                    data = p\n                } catch (e) { console.warn(`${type} data eror `, e.message) }\n            }\n            if (obj) {\n                if (typeof props[type] === 'object' && !Array.isArray(props[type])) {\n                    data = props[type]\n                }\n            } else {\n                if (Array.isArray(props[type])) {\n                    data = props[type]\n                }\n            }\n            return data\n        }\n        let data = getProps('Data', false)\n        let map = getProps('Mapping')\n        let extras = getProps('Extras')\n        let mapKeys = Object.keys(map)\n        //let unionKeys=mapKeys.filter(k=>dataKeys.includes(k))\n        let compiled = []\n        let allmodules = global.modules.concat(global.remodules)\n        let modNames = allmodules.map(m => m[0].name);\n        // console.log('draw map',slData.parentData)\n        data.forEach((d, index) => {\n            let id = 'dynamic' + dynamicCount++\n            let props = {}\n            let ext = { ...extras, ...slData.parentData }\n            mapKeys.forEach(k => {\n                props[map[k]] = d[k]\n            })\n            ext.index = index\n            props.Extras = ext\n            props.extras = ext\n            let dynComp = { name: tmp, props, id }\n            if (modNames.includes(tmp)) {\n                let pos = modNames.indexOf(tmp)\n                let modTree = JSON.parse(JSON.stringify(allmodules[pos]))\n                modTree[0].props = props\n                modTree[0].funcs[0].ext = ext\n                tree[0].events = node.events\n                compiled.push(<Comp tree={modTree} id={modTree[1].id} prev={prev} />)\n            } else {\n                compiled.push(drawComp(tree, id, prev, slData, dynComp))\n            }\n        })\n        comp = compiled\n\n    }\n    if (node.name === 'CondList') {\n\n        if (props.Routes === undefined) {\n            props.Routes = []\n        }\n        let Extras = {}\n        if (props.Extras !== undefined) {\n            Extras = props.Extras\n        }\n        if (typeof props.Extras === 'string') {\n            try {\n                Extras = JSON.parse(props.Extras)\n            } catch (e) { console.warn('Cond extras error ', e.message) }\n        }\n        let dataObj = props.Routes\n        let data = dataObj\n\n        let compiled = []\n        data.forEach(d => {\n            try {\n                //eslint-disable-next-line\n                let anony = new Function('code', `return ${d[0]}`)\n                if (anony(slData.class)) {\n                    let pos = tree.map(c => c.id).indexOf(d[1])\n                    if (pos !== -1) {\n                        tree[pos].props.Extras = Extras\n                    }\n                    compiled.push(drawComp(tree, d[1], prev, slData))\n                }\n\n            }\n            catch (e) { console.warn(`ConditionList error (${d[0] + ' ' + d[1]}) :`, e.message) }\n\n        })\n        props.children = [...new Set(data.map(d => d[1]))] //.filter((v,i,a)=>a.indexOf(v)===i)\n        comp = compiled\n\n    }\n    if (node.name === 'Html') {\n        comp = <div key={id} ref={getRef()} dangerouslySetInnerHTML={{ __html: props.Html }} width={props.Width}\n            height={props.Height} className={props.className} id={props.id}\n            onClick={getEvent('onClick')}\n        />\n    }\n    if (node.name === 'Ripples') {\n        let child = props.Child && props.Child[0] ? drawComp(tree, props.Child[0], prev, slData) : <div></div>\n        comp = <Ripples style={{ width: '100%', height: '100%' }} color={props.Color}\n            during={props.During}\n            onClick={getEvent('onClick')}\n        >{child}</Ripples>\n    }\n    if (node.name === 'Video') {\n        let src = props.src\n        if (src && src.startsWith('res://')) {\n            let name = src.split('//')[1]\n            if (!prev) {\n                src = resources[name]\n            } else {\n                let fnames = prev.files.map(f => f.name)\n                let pos = fnames.indexOf(name)\n                if (pos !== -1) {\n                    src = prev.files[pos].url\n                }\n            }\n        }\n        comp = <video key={id} ref={getRef()} src={src} controls={props.controls}\n            style={{ ...props }} height={150} width={150}\n            autoPlay={props.autoplay || undefined}\n            className={props.className} id={props.id}\n        />\n    }\n    if (node.name === 'Audio') {\n        let src = props.src\n        if (src && src.startsWith('res://')) {\n            let name = src.split('//')[1]\n            if (!prev) {\n                src = resources[name]\n            } else {\n                let fnames = prev.files.map(f => f.name)\n                let pos = fnames.indexOf(name)\n                if (pos !== -1) {\n                    src = prev.files[pos].url\n                }\n            }\n        }\n        comp = <audio key={id} ref={getRef()} src={src} controls={props.controls}\n            style={{ ...props }} height={100} width={100}\n            autoPlay={props.autoplay || undefined}\n            className={props.className} id={props.id}\n        />\n    }\n    if (node.name === 'ReactRaw') {\n        try {\n            const inst = slData.class\n            if (typeof inst[props.Function] !== 'function') throw new Error(`(${props.Function}) Not a function`)\n            const childs = drawChilds('Children')\n            const reactComp = inst[props.Function]({ children: childs })\n            if (React.isValidElement(reactComp)) {\n                comp = <ErrorBoundary comp={reactComp} />\n            } else {\n                throw new Error('Not a react element')\n            }\n        } catch (e) {\n            console.info('React raw error ', e.message)\n        }\n    }\n\n    //#endregion \n\n    //render remodules\n    if (!prev) {\n        let names = global.modules.map(m => m[0].name);\n        let renames = global.remodules.map(m => m[0].name);\n\n        if (names.includes(node.name)) {\n            let pos = names.indexOf(node.name)\n            let tree = JSON.parse(JSON.stringify(global.modules[pos]))\n            tree[0].props = node.props\n            tree[0].props.extras = slData.parentData\n            tree[0].events = node.events\n            comp = <Comp key={id} tree={tree} id={tree[1].id} prev={prev} />\n\n        } else if (renames.includes(node.name)) {\n            let pos = renames.indexOf(node.name)\n            let tree = JSON.parse(JSON.stringify(global.remodules[pos]))\n            tree[0].props = node.props\n            tree[0].props.extras = slData.parentData\n            tree[0].events = node.events\n            comp = <Comp key={id} tree={tree} id={tree[1].id} prev={prev} />\n\n        }\n    } else {\n        let dnames = prev.deps.map(d => d[0].name)\n        if (dnames.includes(node.name)) {\n            let pos = dnames.indexOf(node.name)\n            if (pos !== -1) {\n                let tree = JSON.parse(JSON.stringify(prev.deps[pos]))\n                tree[0].props = node.props\n                tree[0].props.parentData = slData.parentData\n                tree[0].events = node.events\n                comp = <Comp key={id} tree={tree} id={tree[1].id} prev={prev} />\n            }\n        }\n    }\n\n    if (node.name === 'Icon') {\n        let clicked = (node.events.onClick && typeof node.events.onClick === 'function') ? node.events.onClick : undefined\n        if (node.extras && md[node.extras]) {\n            comp = React.createElement(md[node.extras], { key: id, size: node.props.Size, color: node.props.Color, onClick: clicked }, [])\n        } else if (node.extras && fa[node.extras]) {\n            comp = React.createElement(fa[node.extras], { key: id, size: node.props.Size, color: node.props.Color, onClick: clicked }, [])\n        } else if (node.extras && bi[node.extras]) {\n            comp = React.createElement(bi[node.extras], { key: id, size: node.props.Size, color: node.props.Color, onClick: clicked }, [])\n        }\n    }\n    //#region material ui\n    if (node.name === 'MButton') {\n        comp = React.createElement(\n            MButton, {\n            key: id,\n            color: props.Color || 'primary',\n            variant: props.Variant || 'contained',\n            size: props.Size,\n            disabled: props.Disabled,\n            disableElevation: props.Elevation,\n            onClick: getEvent('onClick')\n        },\n            node.props.Value\n        )\n    }\n    if (node.name === 'MTextField') {\n        comp = React.createElement(\n            MTextField, {\n            key: id,\n            variant: props.Variant || 'standard',\n            label: props.Label,\n            value: props.Value,\n            type: props.Type || 'text',\n            color: props.Color || 'default',\n            error: props.Error,\n            multiline: props.Multiline,\n            select: props.Select,\n            size: props.Size || 'medium',\n            margin: props.Margin,\n            disabled: props.Disabled,\n            helperText: props.HelperText,\n            width: props.Width,\n            onChange: getEvent('onChange')\n        }\n        )\n    }\n    if (node.name === 'MAvatar') {\n        let src = node.props.Source\n        if (src && src.startsWith('res://')) {\n            let name = src.split('//')[1]\n            if (!prev) {\n                src = resources[name]\n            } else {\n                let fnames = prev.files.map(f => f.name)\n                let pos = fnames.indexOf(name)\n                if (pos !== -1) {\n                    src = prev.files[pos].url\n                }\n            }\n\n        }\n        comp = React.createElement(\n            MAvatar, {\n            key: id,\n            alt: props.Alt,\n            src: src,\n            width: props.Width,\n            height: props.Height,\n            variant: props.Variant,\n            onClick: getEvent('onClick'),\n        }, props.Value\n        )\n    }\n    if (node.name === 'MBadge') {\n        let child = props.Child && props.Child[0] ?\n            drawComp(tree, props.Child[0], prev, slData) : ''\n        comp = React.createElement(\n            MBadge, {\n            key: id,\n            badgeContent: props.Value,\n            color: props.Color,\n            invisible: props.Invisible,\n            disabled: props.Disabled,\n            showZero: props.ShowZero,\n            variant: props.Variant,\n            badgeOverLap: props.Overlap,\n            anchorOrigin: {\n                vertical: props.Vertical || 'top',\n                horizontal: props.Horizontal || 'right',\n            },\n\n        }, child\n        )\n    }\n\n    if (node.name === 'MChip') {\n        let avatar = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : undefined\n        comp = React.createElement(\n            MChip, {\n            key: id,\n            avatar: avatar,\n            label: props.Value,\n            onClick: getEvent('onClick'),\n            onDelete: (node.events.onDelete) ? node.events.onDelete : undefined,\n            color: props.Color,\n            variant: props.Variant,\n            size: props.Size,\n        }\n        )\n    }\n    if (node.name === 'MTooltip') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : <div>Child</div>\n        comp = React.createElement(\n            MTooltip, {\n            key: id,\n            title: props.Value,\n            placement: props.Placement,\n            arrow: props.Arrow,\n            open: props.Open,\n            onClose: getEvent('onClose'),\n            onOpen: getEvent('onOpen'),\n            interactive: props.Interactive,\n            leaveDelay: props.LeaveDelay,\n\n        },\n            <div>{child}</div>\n        )\n    }\n    if (node.name === 'MTypography') {\n        comp = React.createElement(\n            MTypography, {\n            key: id,\n            variant: props.Variant,\n            align: props.Align,\n            color: props.Color,\n            display: props.Display,\n            gutterBottom: props.GutterBottom,\n            noWrap: props.NoWrap,\n\n        },\n            props.Value || ''\n        )\n    }\n    if (node.name === 'MCProgress') {\n        comp = React.createElement(\n            MCProgress, {\n            key: id,\n            color: props.Color,\n            variant: props.Variant,\n            value: props.Value || 0,\n\n        }\n        )\n    }\n\n    if (node.name === 'MLProgress') {\n        comp = React.createElement(\n            MLProgress, {\n            key: id,\n            color: props.Color,\n            variant: props.Variant,\n            value: props.Value || 0,\n            valueBuffer: props.ValueBuffer || 0,\n            //java/kotlin\n\n        }\n        )\n    }\n    if (node.name === 'MDialog') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : 'No Child'\n        comp = React.createElement(\n            MDialog, {\n            key: id,\n            open: props.Open,\n            fullScreen: props.FullScreen,\n            onClose: getEvent('onClose'),\n            maxWidth: props.MaxWidth,\n        },\n            <div>{child}</div>\n        )\n    }\n    if (node.name === 'MSnackbar') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : undefined\n        comp = React.createElement(\n            MSnackbar, {\n            key: id,\n            open: props.Open,\n            anchorOrigin: { vertical: props.Vertical || 'bottom', horizontal: props.Horizontal || 'left' },\n            autoHideDuration: props.HideAfter || 6000,\n            message: !child ? props.Message : undefined,\n            onClose: getEvent('onClose'),\n        },\n            child\n        )\n    }\n    if (node.name === 'MPaper') {\n        let child = (node.Child && node.Child[0]) ? drawComp(tree, node.Child[0], prev, slData) : undefined\n        comp = React.createElement(\n            MPaper, {\n            key: id,\n            elevation: props.Elevation,\n            variant: props.Variant,\n            square: props.Square,\n        },\n            child\n        )\n    }\n    if (node.name === 'MCard') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : undefined\n        comp = React.createElement(\n            MCard, {\n            key: id,\n            variant: props.Variant,\n        },\n            child\n        )\n    }\n    if (node.name === 'MSwitch') {\n        comp = React.createElement(\n            MSwitch, {\n            key: id,\n            checked: props.Value,\n            color: props.Color,\n            name: props.Name,\n            size: props.Size,\n\n        }\n        )\n    }\n    if (node.name === 'MSlider') {\n        comp = React.createElement(\n            MSlider, {\n            key: id,\n            value: props.Value,\n            defaultValue: props.DefaultValue,\n            step: props.Step || undefined,\n            marks: props.Marks,\n            orientation: props.Orientation,\n            min: props.Min,\n            max: props.Max,\n            valueLabelDisplay: props.LabelOn,\n            onChange: getEvent('onChange'),//(e,no)=>{}\n\n        }\n        )\n    }\n\n    if (node.name === 'MFab') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : <div></div>\n        comp = React.createElement(\n            MFab, {\n            key: id,\n            variant: props.Variant,\n            size: props.Size,\n            color: props.Color,\n            disabled: props.Disabled,\n            onClick: getEvent('onClick'),\n\n        },\n            child\n        )\n    }\n\n    if (node.name === 'MCheckbox') {\n        comp = React.createElement(\n            MCheckbox, {\n            key: id,\n            checked: props.Value,\n            defaultChecked: props.DefaultChecked,\n            color: props.Color,\n            indeterminate: props.Indeterminate,\n            size: props.Size,\n            onChange: getEvent('onChange'),\n\n        }\n        )\n    }\n\n    if (node.name === 'MRadio') {\n        comp = React.createElement(\n            MRadio, {\n            key: id,\n            checked: props.Value,\n            defaultChecked: props.DefaultChecked,\n            color: props.Color,\n            indeterminate: props.Indeterminate,\n            size: props.Size,\n            onChange: getEvent('onChange'),\n\n        }\n        )\n    }\n    if (node.name === 'MFormCL') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : <div></div>\n        comp = React.createElement(\n            MFormCL, {\n            key: id,\n            label: props.Label,\n            control: child,\n            labelPlacement: props.Placement,\n\n        }\n        )\n    }\n    if (node.name === 'MLink') {\n        let child = (props.Child && props.Child[0]) ? drawComp(tree, props.Child[0], prev, slData) : undefined\n        comp = React.createElement(\n            MLink, {\n            key: id,\n            href: props.Href,\n            color: props.Color,\n            underline: props.Underline,\n        },\n            child\n        )\n    }\n    if (node.name === 'MSelect') {\n        //eslint-disable-next-line\n        let data = props.Values && props.Values.split(',') || []\n        let children = data.length > 0 ? data.map(d => <MenuItem value={d}>{d}</MenuItem>) : <div></div>\n        comp = React.createElement(\n            MSelect, {\n            key: id,\n            value: props.Value,\n            onChange: getEvent('onChange')\n\n        },\n            children\n        )\n    }\n    //#endregion\n\n    return comp;\n\n}\nconst updateApp = (tree) => {\n    if (tree[0].funcs && tree[0].funcs.length > 1) {\n        let funcs = tree[0].funcs\n        let code = `//code auto imported but with errors\n        class main {\n        constructor({getState,setState,mergeState,tiePS,getRef}){\n            this.gs=getState\n            this.ss=setState\n            this.ms=mergeState\n            this.tiePS=tiePS\n            this.getRef=getRef\n        }\n        //put code below :)\n        `\n        funcs.forEach((f, i) => {\n            if (i === 0) return\n            code += `\n        ${f.name}(${f.args}){\n            ${f.body}\n        }\n        `\n        })\n        code += `\n          }\n         `\n        tree[0].funcs = []\n        tree[0].classCode = code\n        console.log('Simple code import done')\n    }\n}\nclass Comp extends React.Component {\n    static data = {};\n    static createCount = 0\n    static classes = {}\n\n\n    constructor(props) {\n        super(props)\n        updateApp(props.tree)\n        Comp.createCount++\n        this.usedRefs = {}\n        this.locals = {}\n        this.dynamicCount = 0\n        this.renderCount = 0\n        this.isInit = { value: true }\n        this.state = {}\n        this.parentData = {}\n        this.propsEvents = {}\n        this.classInst = getCodeClass(props.tree[0].classCode, props.prev, this).instance\n        this.guyiInit()\n    }\n    componentDidMount() {\n        this.runMagicFunc('load')\n\n    }\n    guyiUpdate() {\n        this.runMagicFunc('update')\n    }\n    guyiInit() {\n        this.runMagicFunc('init')\n    }\n    componentDidUpdate() {\n        this.runMagicFunc('draw')\n    }\n    shouldComponentUpdate() {\n        this.runMagicFunc('undraw')\n        return true\n    }\n    componentWillUnmount() {\n        this.runMagicFunc('unload')\n    }\n\n    runMagicFunc(name) {\n        try {\n            if (this.classInst[name]) {\n                this.classInst[name]()\n            }\n        } catch (e) { console.log(`${this.props.tree[0].name} ${name} error`, e.message,e) }\n    }\n    getParentData() {\n        let { tree } = this.props\n        let parentData = {}\n        let initIndex = -1\n        if (!tree[0].props) tree[0].props = {}\n        if (!tree[0].events) tree[0].events = {}\n        if (tree[0].props.extras) {\n            initIndex = tree[0].props.extras.index\n            let kys = Object.keys(tree[0].props.extras)\n            let pkys = kys.filter(k => k.startsWith('p'))\n            pkys.forEach(pk => {\n                let no = Number(pk.split('p')[1]) + 1\n                parentData['p' + no] = tree[0].props.extras[pk]\n            })\n        }\n        parentData['p1'] = {\n            index: initIndex,\n            name: tree[0].name,\n            props: tree[0].props, events: tree[0].events,\n            instance: this.classInst,\n        }\n        this.parentData = parentData\n        this.classInst.props = tree[0].props\n        // this.classInst.extras=parentData\n        this.setEvents()\n        return parentData\n    }\n    setEvents() {\n        const events = {}\n        let pd = Object.values(this.parentData).map(d => [d.name, d.instance])\n        Object.entries(this.props.tree[0].events).forEach(([k, v]) => {\n            if (k.includes(',')) {\n                let [mod, name] = k.split(',')\n                pd.forEach(([n, m]) => {\n                    if (n === mod) {\n                        events[name] = (...args) => {\n                            try {\n                                return m[v](...args)\n                            } catch (e) { console.log(`Error ${this.props.tree[0].name}[${name}] ${e.message}`) }\n                        }\n                    }\n                })\n            }\n        })\n        this.events = events\n    }\n\n    render() {\n        let { tree, id, prev } = this.props\n        this.guyiUpdate()\n        return drawComp(tree, id, prev,\n            {\n                usedRefs: this.usedRefs, dynamicCount: this.dynamicCount, parentData: this.getParentData(),\n                class: this.classInst, inst: this\n            })\n    }\n\n}\n\nexport default Comp;\n\n\n","import React from 'react'\n\nexport const Button = React.forwardRef(\n    ({\n        onClick = () => { }, onDbClick = () => { }, value = '', styles = {}, className, id\n    }, ref) => {\n        return (\n            <button\n                className={className}\n                id={id}\n                ref={ref}\n                onClick={onClick}\n                onDoubleClick={onDbClick}\n                style={styles}\n            >{value}</button>\n        )\n    }\n)\n\n\nexport const Column = React.forwardRef(\n    ({ styles = {}, className, data = [], id\n    }, ref) => {\n\n        return (\n            <div\n                ref={ref}\n                className={className}\n                id={id}\n                style={{\n                    ...styles,\n                    display: 'flex',\n                    flexDirection: 'column',\n                }}>\n                {data.map((item, index) => {\n                    return (\n                        item\n                    )\n                })}\n            </div>\n        )\n    }\n)\n\nexport const Image = React.forwardRef(({\n    src = '',\n    alt = '',\n    width = 80,\n    height = 80,\n    style,\n    id,\n    className },\n    ref) => {\n    return (\n        <img\n            ref={ref}\n            src={src}\n            alt={alt}\n            style={{ height, width, ...style }}\n            className={className}\n            id={id}\n        />\n    )\n})\n\nexport const Row = React.forwardRef(\n    ({\n        styles = {}, data = [], className, id\n    }, ref) => {\n        return (\n            <div\n                ref={ref}\n                style={{\n                    ...styles,\n                    display: 'flex',\n                    flexDirection: 'row',\n                }}\n                className={className}\n                id={id}\n            >\n                {data.map((item, index) => {\n                    return (\n                        item\n                    )\n                })}\n            </div>\n        )\n    }\n)\nexport const Text = React.forwardRef(({ styles = {}, value = '', className, id }, ref) => {\n    return (\n        <p ref={ref} style={{ margin: 0, padding: 0, ...styles }}\n            className={className}\n            id={id}>\n            {value}\n        </p>\n    )\n})\n\nexport const Textinput = React.forwardRef(({ styles = {}, otherProps = {},\n    value = '', onChange, onClick, className, id\n}, ref) => {\n    return (\n        <input {...otherProps}\n            ref={ref} value={value}\n            onChange={onChange}\n            onClick={onClick}\n            style={styles}\n            className={className}\n            id={id}\n        />\n\n    )\n})\n\nexport const View = React.forwardRef(({\n    id = '',\n    className = '',\n    data = [],\n    styles = {},\n    center = false,\n    onClick = () => { },\n}, ref) => {\n    let centerProps = {}\n    if (center) {\n        centerProps.display = 'flex';\n        centerProps.flexDirection = 'row';\n        centerProps.justifyContent = 'center';\n        centerProps.alignItems = 'center';\n\n    }\n    if (styles.borderRadius && styles.borderRadius !== 0) {\n        styles.borderTopleftRadius = undefined;\n        styles.borderTopRightRadius = undefined;\n        styles.borderBottomleftRadius = undefined;\n        styles.borderBottomRightRadius = undefined;\n    }\n    if (styles.margin && styles.margin !== 0) {\n        styles.marginLeft = undefined;\n        styles.marginRight = undefined;\n        styles.marginTop = undefined;\n        styles.marginBottom = undefined;\n    }\n\n    if (styles.padding && styles.padding !== 0) {\n        styles.paddingLeft = undefined;\n        styles.paddingRight = undefined;\n        styles.paddingTop = undefined;\n        styles.paddingBottom = undefined;\n    }\n    if (styles.border && styles.border.trim() !== '') {\n        styles.borderTop = undefined;\n        styles.borderBottom = undefined;\n        styles.borderLeft = undefined;\n        styles.borderRight = undefined;\n    }\n\n    return (\n        <div\n            ref={ref}\n            id={id}\n            className={className}\n            onClick={onClick}\n            style={{\n                ...styles,\n                display: 'flex',\n                flexDirection: 'column',\n                ...centerProps,\n\n            }}\n        >\n            {data.length > 0 && data[0]}\n        </div>\n    )\n}\n)\n\nexport class ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = { hasError: false }\n    }\n    static getDerivedStateFromError(err) {\n        return { hasError: true }\n    }\n    componentDidCatch(error) {\n        console.log('Erro from ReactRaw', error)\n    }\n    render() {\n        if (this.state.hasError) {\n            return <div>ReactRaw Error</div>\n        } else {\n            return this.props.comp\n        }\n    }\n}\n\n\n","import React, { useState } from 'react'\nimport { MdDelete, MdSave } from 'react-icons/md'\nimport { BiSearch } from 'react-icons/bi'\nimport TextField from '@material-ui/core/TextField'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport EnterInput from './util/EnterInput'\n\n\nexport const Preview = ({file, disMes=()=>{},size=100 }) => {\n    let {type,url,name}=file\n    const [data, setData] = useState({ run: file.run === undefined ? false : file.run })\n    if (type.startsWith('image')) {\n        return (\n            <img src={url} alt={name} style={{ width: size, height: size, marginRight: 5, border: '2px solid blue' }} />\n        )\n    } else if (type.startsWith('video')) {\n        return (\n            <video src={url} style={{ width: size+50, height: size+50}} duration={1000} controls />\n        )\n    } else if (type.includes('javascript')) {\n        const updateRun = (e) => {\n            let val = e.target.checked\n            file.run = val\n            setData({ ...data, run: val })\n            if (val) {\n                try {\n                    //eslint-disable-next-line\n                    eval(file.url)\n                    disMes(`1st Run ${name} done.\\nScript Will run on project loads too!`)\n                } catch (e) {\n                    disMes(`${name} error ${e.message}`)\n\n                }\n            } else {\n                disMes(`Library ${name} disabled. Won't load on next project open`)\n            }\n\n        }\n        return (\n            <code style={{ width: size+20, padding: 5, borderLeft: '5px solid lavender', diplay: 'flex', flexDirection: 'columns' }}>\n                <div>Script</div>\n                <div style={{ backgroundColor: 'lavender', color: '' }}>\n                    Enable script ? <input type='checkbox' checked={data.run} onChange={updateRun} readOnly />\n                </div>\n            </code>\n        )\n    } else if (type.includes('css')) {\n        const updateRun = (e) => {\n            let val = e.target.checked\n            file.run = val\n            setData({ ...data, run: val })\n            if (val) {\n                try {\n                    //eslint-disable-next-line\n                    let css = file.url, head = document.head, style = document.createElement('style')\n                    head.appendChild(style)\n                    style.type = 'text/css'\n                    style.id = 'css-' + file.name\n                    if (style.styleSheet) {//IE 8&<\n                        style.stylesheet.cssText = css\n                    } else {\n                        style.appendChild(document.createTextNode(css))\n                    }\n                    disMes(`1st Run ${name} done.\\nCss Will inject on project loads too!`)\n                } catch (e) {\n                    disMes(`${name} error ${e.message}`)\n                }\n            } else {\n                let styles = [...document.head.children]\n                styles.forEach(s => {\n                    if (s instanceof HTMLStyleElement) {\n                        if (s.id === ('css-' + file.name)) {\n                            //document.head.remove(s) //removing css causes layout issues\n                        }\n                    }\n                })\n                disMes(`Css ${name} disabled. Won't load on next project open`)\n            }\n        }\n        return (\n            <code style={{ width: size+20, padding: 5, borderLeft: '5px solid lavender', diplay: 'flex', flexDirection: 'columns' }}>\n                <div>Css</div>\n                <div style={{ backgroundColor: 'lavender', color: '' }}>\n                    Enable css ? <input type='checkbox' checked={data.run} onChange={updateRun} readOnly />\n                </div>\n            </code>\n        )\n    }\n    else {\n        return (\n            <div style={{ width: size ,height: size, marginRight: 5, border: '2px solid blue', textAlign: 'center' }}>\n                No Preview</div>\n        )\n    }\n}\nconst Resources = () => {\n    const [all, setAll] = useState(false)\n    const [useSmall, setUseSmall] = useState(false)\n    const [search, rawsetSearch] = useState(global.resTab === 'view' ? false : true)\n    const setSearch = (open) => {\n        rawsetSearch(open)\n        global.resTab = open ? 'download' : 'view'\n    }\n    let allfiles = global.files\n    const update = useState(1)[1]\n    if (!all) {\n        allfiles = allfiles.filter(f => {\n            if (f.by) {\n                return !f.by.startsWith('module')\n            } else {\n                return true\n            }\n        })\n    }\n    const FileRow = ({ file = {}, index }) => {\n        const [info, setInfo] = useState('')\n        const [name, setName] = useState(file.name)\n        const isDup = () => {\n            let fnames = global.files.map(f => f.name)\n            return fnames.lastIndexOf(file.name) !== fnames.indexOf(file.name)\n        }\n        const disMes = (mes) => {\n            setInfo(mes)\n            setTimeout(() => setInfo(''), 5000)\n        }\n        const remove = () => {\n            global.files = global.files.filter(f => f.name !== file.name)\n            update(Math.random())\n        }\n        const changeName = (e) => {\n            if (name.length < 3) {\n                disMes('Name too Short')\n                setName(file.name)\n                return\n            }\n            let rnames = global.files.map(f => f.name)\n            if (rnames.includes(name)) {\n                disMes('Name Taken by resource')\n                setName(file.name)\n                return\n            }\n            file.name = name\n            disMes('Name changed')\n            //update(Math.random)\n        }\n        const dragger = (<div onDragOver={(e) => e.preventDefault()} draggable\n            onDragStart={(e) => {\n                e.dataTransfer.setData('text', file.name)\n            }}\n            style={{border:'2px solid blue', borderRadius: 4,display:'inline-block' }}\n        >Drag Here</div>)\n        return (\n            <div onDrop={(e) => { e.stopPropagation(); dropped(e, true, index) }}\n                style={{ display: 'flex', justifyContent: 'space-between', border: '2px solid brown', position: 'relative' }} >\n                {useSmall && <div>{name + '\\tSz-' + Math.ceil(file.size / 1024) + 'Kb'}{dragger}</div>}\n                {!useSmall && [<div key='input' draggable={false} style={{ backgroundColor: isDup() ? 'lavender' : '' }}>\n                    <div style={{ display: 'flex', flexWrap: 'wrap' }}  >\n                        Name : <EnterInput value={name} onChange={(e) => setName(e.target.value)}\n                            onEnter={changeName} />\n                        <div onClick={changeName} ><MdSave color='blue' size={20} /></div>\n                        {dragger}\n                    </div>\n                    <div>Type : {file.type}</div>\n                    <div>Size : {Math.ceil(file.size / 1024)}KB</div>\n                    <div>By : {file.by}</div>\n                    <div style={{ color: 'red', fontStyle: 'italic' }} >{info}</div>\n                </div>,\n                <Preview key='prev' file={file} disMes={disMes} />\n                ]}\n                <div style={{ position: 'absolute', top: 5, right: 5 }} onClick={remove} >\n                    <MdDelete size={20} color='red' />\n                </div>\n            </div>\n        )\n    }\n\n    const rearange = (e, index) => {\n        let files = global.files\n        let data = e.dataTransfer.getData('text')\n        e.preventDefault()\n        let names = files.map(m => m.name)\n        if (data && names.includes(data)) {\n            let pos = names.indexOf(data)\n            if (pos !== index) {\n                let start = pos\n                let go = index\n                if (start < go) {\n                    files.splice(go + 1, 0, files[start])\n                    files.splice(start, 1)\n                } else if (start > go) {\n                    files.splice(go, 0, files[start])\n                    files.splice(start + 1, 1)\n                }\n                update(Math.random() + Math.random())\n            }\n        }\n\n    }\n    const readDataUrl = (file) => {\n        return new Promise((res, rej) => {\n            let reader = new FileReader()\n            reader.onload = () => res(reader.result)\n            reader.onerror = rej\n            reader.readAsDataURL(file)\n\n        })\n    }\n    const dropped = async (e, drop = true, index = -1) => {\n        let files = [];\n        if (drop) {\n            let data = e.dataTransfer\n            e.preventDefault()\n            files = data.files\n        } else {\n            files = e.target.files;\n        }\n        if (files.length === 0) {\n            rearange(e, index)\n        }\n        for (let i = 0; i < files.length; i++) {\n            let f = files[i]\n            try {\n                let urlText = ''\n                if (f.type.startsWith('text') || f.type.endsWith('json')) {\n                    urlText = await f.text()\n                } else {\n                    urlText = await readDataUrl(f)\n                }\n                let file = { name: f.name, size: f.size, type: f.type, url: urlText, by: 'user' }\n                if (index === -1) {\n                    global.files.unshift(file)\n                } else {\n                    global.files.splice(index, 0, file)\n                }\n                update(Math.random())\n            } catch (e) {\n                console.log('Reading file failed ', f)\n            }\n        }\n\n    }\n    const getStats = () => {\n        let size = 0\n        allfiles.forEach(f => size += f.size)\n        size = size / 1024\n        if (size >= 1000) {\n            size = size / 1024\n            size = `${Math.floor(size)} Mbs `\n        } else {\n            size = `${Math.floor(size)} Kbs `\n        }\n        let stats = `Total of ${allfiles.length} files, Size ${size} `\n        return stats\n    }\n    if (search) {\n        return <Search close={() => setSearch(false)} />\n    }\n    return (\n        <div onDragOver={(e) => { e.preventDefault(); }} onDrop={dropped}\n            style={{ position: 'relative', width: '100%', minHeight: '100vh', border: '1px solid black' }}\n        >\n            <div>\n                <button style={{ position: 'absolute', top: 3, right: 5 }} onClick={() => setSearch(true)} >Download New</button>\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} >\n                    <div> Drop or Select to add Files</div>\n                    <input type='file' multiple onChange={(e) => dropped(e, false)} />\n                    <div>\n                        <button onClick={() => setAll(!all)} >{all ? \"Show Only for this\" : \"Show All\"}</button>\n                        <button onClick={() => setUseSmall(!useSmall)} >{useSmall ? \"Large Icons\" : \"Small Icons\"}</button>\n                    </div>\n                    <div>{getStats()}</div>\n                </div>\n                {allfiles.map((f, i) => <FileRow key={f.name} dropped={dropped} file={f} update={update} index={i} />)}\n            </div>\n        </div>\n\n    )\n}\n\nexport default Resources\n\nconst ResultRow = ({ index, res, select }) => {\n    let name = res.url.split('photo/')[1]\n    name = name.substring(0, name.lastIndexOf('-')).replaceAll('-', ' ')\n    return (\n        <div\n            style={{\n                display: 'flex', flexDirection: 'column', alignItems: 'center',\n                width: 200, cursor: 'pointer', backgroundColor: res.selected ? res['avg_color'] : '', margin: 2\n            }}\n            onClick={select}\n        >\n\n            <Tooltip\n                title={<div style={{ fontSize: 16, color: 'red', fontWeight: 'bold', backgroundColor: 'white' }}>\n                    {name}\n                </div>}\n            >\n                <img src={res.src.medium} alt={name}\n                    style={{ width: '100%', height: 200, objectFit: 'contain' }}\n                />\n            </Tooltip>\n            <a href={res.url} target=\"blank\" ><div>{'By : ' + res.photographer}</div></a>\n        </div>\n    )\n}\n\n\nconst PAFetch = (url, query) => {\n    const key = \"563492ad6f917000010000014f23981846f94cd482eeb40800d4d813\"\n    return new Promise((res, rej) => {\n        fetch(url, {\n            method: 'GET',\n            headers: {\n                'Authorization': key\n            },\n        }).then(d => d.text())\n            .then(d => res(d))\n            .catch(rej)\n    })\n}\nconst PGFetch = (url) => {\n    return new Promise((res, rej) => {\n        fetch(url)\n            .then(d => d.blob())\n            .then(d => {\n                let reader = new FileReader()\n                reader.onload = () => res({ size: d.size, type: d.type, url: reader.result })\n                reader.onerror = rej\n                reader.readAsDataURL(d)\n            })\n            .catch(rej)\n    })\n}\n\nconst Search = ({ close }) => {\n    const [data, rawsetData] = useState(global.fresult.data)\n    const [meta, rawsetMeta] = useState(global.fresult.meta)\n    const [text, setText] = useState('')\n    const [info, setInfo] = useState('')\n    const [size, setSize] = useState('medium')\n\n    const setData = (newData) => {\n        rawsetData(newData)\n        global.fresult.data = newData\n    }\n    const setMeta = (newMeta) => {\n        rawsetMeta(newMeta)\n        global.fresult.meta = newMeta\n    }\n\n    const getPage = async (page) => {\n        setInfo(`Searching : \"${text}\"`)\n        let url = new URL('https://api.pexels.com/v1/search')\n        url.search = new URLSearchParams({\n            query: text,\n            'per_page': 30,\n        })\n        try {\n            if (page) {\n                if (page === 'next')\n                    url = meta['next_page']\n                else if (page === 'prev')\n                    url = meta['prev_page']\n            }\n            let res = await PAFetch(url)  //page=3\\u0026per_page=15\\u0026&&')\n            res = JSON.parse(res)\n            if (Array.isArray(res.photos)) {\n                setData(res.photos)\n                setMeta({ ...res, photos: [] })\n                setInfo(`Results for \"${text}\"`)\n            }\n        } catch (e) {\n            console.log(e.message)\n            setInfo('Net Error')\n        }\n    }\n    const select = (index) => {\n        let tmpData = [...data]\n        if (tmpData[index].selected === undefined) tmpData[index].selected = false\n        tmpData[index].selected = !tmpData[index].selected\n        setData(tmpData)\n    }\n    const saveAll = async (setInfo) => {\n        let selPics = data.filter(d => d.selected)\n        let fnames = global.files.map(f => f.name)\n        let addedFiles = []\n        let skippedFiles = []\n        for (let p in selPics) {\n            let pic = selPics[p]\n            let name = pic.url.split('photo/')[1]\n            name = name.substring(0, name.lastIndexOf('-'))\n            try {\n                if (fnames.includes(name)) {\n                    skippedFiles.push(name)\n                    setInfo(`Skipped ${p + 1} : ${name}`)\n                    continue\n                }\n                let file = await PGFetch(pic.src[size])\n                file.name = name\n                file.by = 'pexels'\n                global.files.unshift(file)\n                setInfo(`Added ${p + 1} : ${name}`)\n                addedFiles.push(name)\n\n            } catch (e) {\n                setInfo(`Skipped ${p + 1} : ${name}`)\n\n            }\n        }\n        let skipped = <div><div>Skipped</div><ol>{skippedFiles.map(f => <li key={f} >{f}</li>)}</ol></div>\n        let added = <div><div>Added</div><ol>{addedFiles.map(f => <li key={f} >{f}</li>)}</ol></div>\n        let info = <div>{added}{skipped}</div>\n        setInfo(info)\n\n    }\n\n    let nextPrev = (\n        <div style={{ display: 'flex' }}>\n            <button disabled={!meta['prev_page']} style={{ marginRight: 8 }} onClick={() => getPage('prev')} >Previous</button>\n            {meta.page && <div style={{ marginRight: 8 }} >{`  ${meta.page}/${Math.ceil(meta['total_results'] / 30)} `}</div>}\n            <button disabled={!meta['next_page']} onClick={() => getPage('next')} >Next</button>\n        </div>\n    )\n    const SaveRow = () => {\n        let no = 0\n        data.forEach(d => {\n            if (d.selected) no += 1\n        })\n        const [info, setInfo] = useState('')\n        return (\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} >\n                <div>{`${no} Selected Photos`}</div>\n                <div style={{ display: 'flex' }}>\n                    <div>Size : </div>\n                    <Select value={size} onChange={(e) => setSize(e.target.value)} >\n                        {[{ s: 'Original', m: 'Original size' }, { s: 'large', m: 'large H:950 x W:650' }, { s: 'medium', m: 'Medium H:350 X W:Orig' }, { s: 'small', m: 'small H:130 X W:Orig' },\n                        { s: 'portrait', m: 'portrait H:1200 X W:800' }, { s: 'landscape', m: 'landscape H:627 X W:1200' }, { s: 'tiny', m: 'Tiny H:200 X W:280' }]\n                            .map(d => <MenuItem value={d.s}>{d.m}</MenuItem>)}\n                    </Select>\n                </div>\n                <button onClick={() => saveAll(setInfo)} > Save Selected Photos </button>\n                <div>{info}</div>\n            </div >\n        )\n    }\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', position: 'relative' }}>\n            <button onClick={close} style={{ position: 'absolute', top: 3, right: 5 }} >View Resources</button>\n            <div dangerouslySetInnerHTML={{ __html: '<a href=\"https://www.pexels.com\" target=\"blank\" style=\"color:blue\" ><h2>Photos Provided by Pexel</h2></a>' }} />\n            <div>Select Photos Then press download select Photos button Below</div>\n            <div style={{ display: 'flex' }} >\n                <TextField label='Search query' value={text} onChange={(e) => setText(e.target.value)} onKeyPress={(e) => {\n                    if (e.key === 'Enter') {\n                        getPage()\n                    }\n                }} />\n                <div onClick={getPage} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }} >\n                    <BiSearch color='blue' size={20} />\n                </div>\n            </div>\n            <div>{info}</div>\n            {data.length > 0 && nextPrev}\n            {data.length > 0 && <SaveRow />}\n            <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-evenly', flex: 1, marginBottom: 40 }}>\n                {data.map((d, index) => <ResultRow res={d} select={() => select(index)} />)}\n            </div>\n            {data.length > 0 && nextPrev}\n            {data.length > 0 && <SaveRow />}\n            {data.length === 0 && <div>Enter a search query and press search to get Results from PEXEL</div>}\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport { SketchPicker } from 'react-color'\nimport Switch from 'react-switch'\nimport { MdDelete, MdSave } from 'react-icons/md'\nimport Dialog from '@material-ui/core/Dialog'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Editor from 'react-simple-code-editor'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Popover from '@material-ui/core/Popover'\nimport { highlight, languages } from 'prismjs/components/prism-core'\nimport 'prismjs/components/prism-clike'\nimport 'prismjs/components/prism-javascript'\nimport './util/prism.css'\nimport JoditEditor from 'jodit-react'\n\nimport EnterInput from './util/EnterInput'\nimport { Preview } from './Resources'\nconst get = global.store.get\nconst set = global.store.set\n\nconst MSelectWrap = ({ options = [], value = '', onChange }) => {\n    return (\n        <Select value={value} onChange={(e) => onChange(e.target.value)}>\n            {options.map(v => <MenuItem key={v} value={v}>{v}</MenuItem>)}\n        </Select>\n    )\n}\n\nconst Pm = ({ style, children, width = '50%', ...others }) => <p style={{ width, ...style, overflow: 'hidden', margin: 0 }} {...others} >{children}</p>\n\nconst Row = ({ style, children, onLeave, onClick }) => {\n\n    return (\n        <div onMouseLeave={onLeave} onClick={onClick} style={{ ...style, display: 'flex' }}>{children}\n        </div>\n    )\n}\nexport const Color = ({ name = '', color = '', onChange = () => { } }) => {\n    const [scolor, setColor] = useState(color)\n    const [open, setOpen] = useState(false)\n    const [istext, setIstext] = useState(false)\n    return (\n        <Row onLeave={() => setOpen(false)} onClick={() => setOpen(true)} style={{ position: 'relative' }}>\n            <Pm>{name}</Pm>\n            <div style={{ minHeight: 20, backgroundColor: scolor, minWidth: 40 }} >{scolor}</div>\n            {open && !istext &&\n                <div style={{ position: 'absolute', left: 0, top: 20, zIndex: 10 }}>\n                    <SketchPicker color={scolor}\n                        onChange={(col) => setColor(col.hex)} onChangeComplete={(col) => onChange(col)}\n                    />\n                </div>\n            }\n            {open && istext &&\n                <input type='text' value={scolor} onChange={(e) => { setColor(e.target.value); onChange({ hex: e.target.value }) }} />\n            }\n            <input type='checkbox' value={istext} onChange={(e) => setIstext(e.target.checked)} />\n\n        </Row>\n    )\n}\nexport const SelectWrap = ({ name = '', options = [], onChange = () => { }, value = false }) => {\n    return (\n        <Row>\n            <Pm>{name}</Pm>\n            <div style={{ width: 120 }}>\n                <MSelectWrap options={options} value={value ? value : ''} onChange={onChange} style={{ width: 180 }} />\n            </div>\n        </Row>\n    )\n}\nexport const Text = ({ name = '', value = '', onChange = () => { } }) => {\n    const [text, setText] = useState(value)\n    const dropped = (e) => {\n        let dropText = e.dataTransfer.getData('text')\n        if (dropText && dropText.startsWith('res://')) {\n            setText(dropText)\n            onChange(dropText)\n        }\n    }\n    return (\n        <div onDrop={dropped} onDragOver={(e) => e.preventDefault()} style={{ display: 'flex' }}>\n            <Pm>{name}</Pm>\n            <EnterInput value={text} type='text' style={{ width: 100 }} onBlur={() => onChange(text)}\n                onChange={(e) => setText(e.target.value)} onDragOver={(e) => e.preventDefault()}\n                onEnter={() => onChange(text)} />\n        </div>\n    )\n}\nexport const NumberInput = ({ name = '', value = 0, onChange = () => { } }) => {\n    const [istext, setIstext] = useState(isNaN(Number(value)) ? true : false)\n    //const [text, setText] = useState(value)\n    return (\n        <Row>\n            <Pm>{name}</Pm>\n            <input type='text' value={value} style={{ width: 100 }}\n                //onBlur={() => onChange(text)}\n                onChange={(e) => {\n                    let val = e.target.value;\n                    if (!istext) {\n                        let no = Number(val.endsWith('.') ? val + '0' : val)\n                        if (!isNaN(no)) {\n                            onChange(no)\n                        }\n                    } else {\n                        onChange(e.target.value)\n                    }\n                }} />\n            <input type='checkbox' checked={istext}\n                onChange={(e) => setIstext(e.target.checked)}\n            />\n        </Row>\n    )\n}\nexport const Bool = ({ name = '', value = false, onChange = () => { } }) => {\n    return (\n        <Row>\n            <Pm>{name}</Pm>\n            <Switch checked={value} height={20} handleDiameter={18} onChange={onChange} />\n        </Row>\n    )\n}\nexport const Json = ({ name = '', value = '', onChange = () => { }, title = true }) => {\n    const [open, setOpen] = useState(false)\n    if (typeof value !== 'string') {\n        try {\n            value = JSON.stringify(value)\n        } catch (e) {\n            console.log('JSON value erro')\n            value = 'Json error'\n        }\n    }\n    const [code, setCode] = useState(value)\n    const [info, setInfo] = useState('')\n\n    const disMes = (mes) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), 10000)\n\n    }\n    const updateCode = (val) => {\n        setCode(val)\n    }\n    const save = () => {\n        try {\n            onChange(JSON.parse(code))\n            disMes('Saved')\n        } catch (e) {\n            setInfo()\n            disMes('Error : ' + e.message)\n        }\n\n    }\n    return (\n        <Row>\n            {title && <Pm>{name}</Pm>}\n            <Tooltip title={value}><div onClick={() => setOpen(true)}>EDIT</div></Tooltip>\n            {open && <Dialog open={open} onClose={() => setOpen(false)} >\n                <div style={{ minWidth: '70%', minHeight: '50%' }} >\n                    <Editor\n                        onKeyDown={e => {\n                            if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {\n                                e.preventDefault()\n                                e.stopPropagation()\n                                save()\n                            }\n                        }}\n                        value={code}\n                        onValueChange={updateCode}\n                        highlight={(code) => highlight(code, languages.js)}\n                        padding={10}\n                        style={{\n                            fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n                            fontSize: 16,\n                            fontWeight: 'bold',\n                            minWidth: '30vw',\n                            minHeight: '30vh',\n                        }}\n                    />\n                    <button onClick={() => setOpen(false)}>Close</button>\n                    <button onClick={() => save()}>Save</button>\n                    <div>{info}</div>\n                </div>\n            </Dialog>}\n        </Row>\n    )\n}\n\nexport const Html = ({ name = '', value = '', onChange = () => { }, title = true }) => {\n    const [open, setOpen] = useState(false)\n    const [html, setHtml] = useState(value)\n    return (\n        <Row>\n            {title && <Pm>{name}</Pm>}\n            <Tooltip title={value}><div onClick={() => setOpen(true)}>EDIT</div></Tooltip>\n            <Dialog open={open} onClose={() => { setOpen(false); onChange(html); }} >\n                <div>{name}</div>\n                <JoditEditor onBlur={(v) => setHtml(v)} value={html} />\n                <div>\n                    <button onClick={() => setOpen(false)} >Close</button>\n                    <button onClick={() => onChange(html)} >Save</button>\n                </div>\n            </Dialog>\n        </Row>\n    )\n}\nexport const Comps = ({ name = '', values = [], app, setApp, passChild = false, onChange = () => { } }) => {\n    if (!Array.isArray(values)) {\n        values = []\n        console.log(values)\n    }\n\n    const Insert = ({ pos = 0, children }) => {\n        let name = children\n        return (\n            <div style={{\n                width: '95%', minHeight: 20,\n                backgroundColor: 'khaki', padding: 2, marginBottom: 2, borderRadius: 2\n            }}\n                draggable={true}\n                onDragStart={(e) => e.dataTransfer.setData('text', `change,${pos}`)}\n\n                onDragOver={(e) => e.preventDefault()}\n                onDrop={(e) => {\n                    let data = e.dataTransfer.getData('text');\n                    e.preventDefault();\n                    add(pos, data)\n                }}\n\n            >{name}</div>\n        )\n    }\n    const Child = ({ id, pos }) => {\n        return (\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                <div>{id}</div>\n                <div onClick={(e) => deletec(e, pos)}><MdDelete size={20} color={'purple'} /></div>\n            </div>\n        )\n    }\n\n    const deletec = (e, pos) => {\n        e.stopPropagation();\n        let tmpChilds = [...values];\n        tmpChilds.splice(pos, 1);\n        onChange(tmpChilds, false);\n\n    }\n    const add = (pos, data = '') => {\n        let tmpChilds = [...values];\n        if (data.startsWith('change,')) {\n            let opos = data.split('change,')[1]\n            let npos = pos\n            if (npos === opos) return\n            let child = tmpChilds.splice(opos, 1)[0]\n            if (npos < opos) {\n                tmpChilds.splice(npos, 0, child)\n            } else {\n                tmpChilds.splice(npos, 0, child)\n            }\n            onChange(tmpChilds)\n            return\n        }\n        if (data.endsWith(',no')) {\n            let tmpChilds = [...values]\n            let oldId = data.split(',')[0]\n            tmpChilds.splice(pos, 0, passChild ? `${app[0].name},${oldId}` : oldId)\n            onChange(tmpChilds)\n            return;\n        }\n        global.created++;\n        let id = 'comp' + global.created;\n        let child = { name: data, id, props: {} };\n        if (data.startsWith('Md') || data.startsWith('Fa') || data.startsWith('Bi')) {\n            child.name = 'Icon'\n            child.extras = data\n        }\n        tmpChilds.splice(pos, 0, passChild ? `${app[0].name},${child.id}` : child.id);\n        onChange(tmpChilds, child);\n\n    }\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', padding: 3, border: '1px solid grey' }}>\n            <Pm style={{ textAlign: 'center', width: '100%' }}>{name}</Pm>\n            {values.map((child, index) => {\n                return (\n                    <Insert pos={index}   ><Child id={child} pos={index} /></Insert>\n                )\n            })}\n            <Insert pos={values.length} />\n        </div>\n    )\n}\nexport const Comp = ({ name = '', values = [], app, setApp, passChild = false, onChange = () => { } }) => {\n    if (!Array.isArray(values)) {\n        values = []\n        console.log(values)\n    }\n    const Insert = ({ pos = 0, children }) => {\n\n        return (\n            <div style={{\n                width: '95%', minHeight: 20,\n                backgroundColor: 'khaki', padding: 2, marginBottom: 2, borderRadius: 2\n            }}\n                onDragOver={(e) => e.preventDefault()}\n                onDrop={(e) => {\n                    let data = e.dataTransfer.getData('text');\n                    e.preventDefault();\n                    add(pos, data)\n                }}\n\n            >{children}</div>\n        )\n    }\n    const Child = ({ id, pos }) => {\n        return (\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                <div>{id}</div>\n                <div onClick={(e) => deletec(e, pos)}><MdDelete size={20} color={'purple'} /></div>\n            </div>\n        )\n    }\n\n    const deletec = (e, pos) => {\n        e.stopPropagation();\n        let tmpChilds = [...values];\n        tmpChilds.splice(pos, 1);\n        onChange(tmpChilds, false);\n\n    }\n\n    const add = (pos, data = '') => {\n        if (data.endsWith(',no')) {\n            let tmpChilds = [...values]\n            let oldId = data.split(',')[0]\n            let passId = passChild ? `${app[0].name},${oldId}` : oldId\n            if (tmpChilds.length > 0) {\n                tmpChilds.splice(0, 1, passId)\n\n            } else {\n                tmpChilds.push(passId)\n            }\n            onChange(tmpChilds)\n            return;\n        }\n        let tmpChilds = [...values];\n        global.created++;\n        let id = 'comp' + global.created;\n        let child = { name: data, id, props: {} };\n        if (data.startsWith('Md') || data.startsWith('Fa') || data.startsWith('Bi')) {\n            child.name = 'Icon'\n            child.extras = data\n        }\n        let passId = passChild ? `${app[0].name},${child.id}` : child.id\n\n        if (tmpChilds.length > 0) {\n            tmpChilds.splice(0, 1, passId)\n\n        } else {\n            tmpChilds.push(passId)\n        }\n        onChange(tmpChilds, child);\n\n    }\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', padding: 3, border: '1px solid grey' }}>\n            <Pm style={{ textAlign: 'center', width: '100%' }}>{name}</Pm>\n            {values.map((child, index) => {\n                return (\n                    <Insert pos={index}   ><Child id={child} pos={index} /></Insert>\n                )\n            })}\n            {!values[0] && <Insert pos={0} />}\n        </div>\n    )\n}\n\nexport const Res = ({ name = '', value = '', onChange = () => { } }) => {\n    const [text, setText] = useState(value)\n    const [isText, setIsText] = useState(false)\n    const [resType, setResType] = useState(get('restype'))\n    const [open, setOpen] = useState(false)\n    const dropped = (e) => {\n        let dropText = e.dataTransfer.getData('text')\n        if (dropText && dropText.startsWith('res://')) {\n            setText(dropText)\n            onChange(dropText)\n        }\n    }\n    const files = global.files.filter(f => {\n        if (f.by && f.by.startsWith('module,')) return false\n        switch (resType) {\n            case 'all':\n                return true\n            case 'image':\n                return f.type.includes('image')\n            case 'video':\n                return f.type.includes('video')\n            case 'media':\n                return f.type.includes('video') || f.type.includes('image')\n            default:\n        }\n        return true\n    }).sort()\n    const anchor = React.useRef()\n    const resArea = (\n        <div ref={anchor}>\n            {text}\n            <Popover anchorEl={anchor.current} open={open}\n                anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n            >\n                <div style={{ display: 'flex', maxWidth: '80vw', flexWrap: 'wrap', alignItems: 'center', justifyContent: 'center' }}\n                    onClick={(e) => e.stopPropagation()} >\n                    <Select value={resType} onChange={e => set('restype', e.target.value, setResType)} >\n                        {['media', 'image', 'video', 'all'].map(m => <MenuItem value={m}>{m}</MenuItem>)}\n                    </Select>\n                    {files.map(f => <div key={f.name} onClick={() => { setText(`res://${f.name}`); onChange(`res://${f.name}`); setOpen(false) }}\n                    > <Preview file={f} size={50} /></div>)}\n                </div>\n            </Popover>\n        </div>\n    )\n    return (\n        <div\n            style={{ display: 'flex' }} onClick={() => setOpen(true)}\n            onDrop={dropped} onDragOver={(e) => e.preventDefault()}\n        >\n            <Pm >{name}</Pm>\n            <input type='checkbox' value={isText} onChange={e => setIsText(e.target.checked)} />\n            {isText && <EnterInput value={text} type='text' style={{ width: 100 }} onBlur={() => onChange(text)}\n                onChange={(e) => setText(e.target.value)} onDragOver={(e) => e.preventDefault()}\n                onEnter={() => onChange(text)} />}\n            {!isText && resArea}\n        </div>\n    )\n}\nexport const Conditional = ({ name = '', value = { data: [] }, props, onChange }) => {\n    let data = value\n    props.children = data.map(d => d[1])\n\n    let Row = ({ row, index }) => {\n        const [cond, setCond] = useState(row[0])\n\n        const condChange = (e) => {\n            let dataWrap = [...data]\n            dataWrap[index][0] = cond\n            props.children = dataWrap.map(d => d[1])\n            onChange(dataWrap)\n        }\n\n        const onDelete = () => {\n            let dataWrap = data\n            dataWrap.splice(index, 1)\n            props.chidren = dataWrap.map(d => d[1])\n            onChange(dataWrap)\n        }\n\n        return (\n            <div style={{ border: '1px solid black', borderRadius: 3 }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', margin: 2 }}>\n                    <EnterInput type='text' value={cond} readOnly={false} style={{ flex: 1 ,width:'80%'}}\n                        onChange={(e) => setCond(e.target.value)} onEnter={condChange} />\n                    <div onClick={condChange} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                        <MdSave size={20} color='blue' />\n                    </div>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between', margin: 2 }}>\n                    <div style={{ display: 'flex', justifyContent: 'center', borderRadius: 3, backgroundColor: 'khaki', flex: 1 }}>\n                        {row[1]}\n                    </div>\n                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                        onClick={onDelete}>\n                        <MdDelete size={20} color='blue' />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n    const insert = (e) => {\n        let type = e.dataTransfer.getData('text')\n        e.preventDefault()\n\n        let id = 'cond' + global.created++\n        let child = { name: type, id, props: {} }\n        if (type.startsWith('Md') || type.startsWith('Fa') || type.startsWith('Bi')) {\n            child.name = 'Icon'\n            child.extras = type\n        }\n        let dataWrap = data\n        if (type.endsWith(',no')) {\n            dataWrap.push(['true', type.split(',')[0]])\n            onChange(dataWrap)\n            return\n        }\n        props.children = dataWrap.map(d => d[1])\n        dataWrap.push(['true', id])\n        onChange(dataWrap, child)\n\n    }\n    return (\n        <div style={{ border: '1px solid black', padding: 2 }}>\n            <div style={{ textAlign: 'center' }}>{name}</div>\n            {data.map((v, index) => {\n                return (\n                    <Row row={v} index={index} />\n                )\n            })}\n            <div style={{ display: 'flex', justifyContent: 'center', height: 20, backgroundColor: 'khaki', borderRadius: 3, margin: 2 }}\n                onDragOver={(e) => e.preventDefault()}\n                onDrop={insert}\n            >\n                Drop To Add\n            </div>\n        </div>\n    )\n\n}\n\n//let types = { name: 'text', age: 'number', body: 'html' }\nlet keyNo = 0\nconst MapData = ({ name, value, onChange, types }) => {\n    const [isJson, setIsJson] = useState(false)\n    let data = []\n    if (Array.isArray(value)) data = value\n    let localProps = {}\n    let propList = []\n    let type = '$$guyimapper$$'\n    for (let p in types) {\n        let name = p\n        let propType = types[p]\n        propList.push({ name, prop: name, type: propType, value: undefined })\n        localProps[p] = ''\n    }\n\n    let localPropTypes = [{ type, props: propList }]\n    let rows = []\n    data.forEach((d, index) => {\n        const setProp = (prop, val) => {\n            d[prop] = val\n            onChange(data)\n        }\n        const deleteRow = () => {\n            data.splice(index, 1)\n            onChange(data)\n        }\n        const rearangeRows = (e, newPos) => {\n            let oldPos = e.dataTransfer.getData('text')\n            e.preventDefault()\n            oldPos = parseInt(oldPos)\n            if (isNaN(oldPos) || oldPos === newPos) return\n            let oldData = data.splice(oldPos, 1)[0]\n            if (newPos > oldPos) {\n                data.splice(newPos, 0, oldData)\n\n            } else {\n                data.splice(newPos, 0, oldData)\n            }\n            onChange(data)\n\n        }\n        let ptys = (\n            <div key={'data-row' + (keyNo++)}\n                style={{ display: 'flex', flexWrap: 'wrap', borderTop: '2px dotted grey' }}\n                draggable={true}\n                onDragStart={(e) => e.dataTransfer.setData('text', index)}\n                onDragOver={(e) => e.preventDefault()}\n                onDrop={(e) => rearangeRows(e, index)}\n            >\n                <Properties key={Math.random()} showIdRow={false} localProps={d} type={type} localPropTypes={localPropTypes}\n                    id='' setProp={setProp}\n                />\n                <MdDelete size={20} color='blue' onClick={deleteRow} />\n            </div>\n        )\n        rows.push(ptys)\n    })\n    const addRow = () => {\n        data.push({ ...localProps })\n        onChange(data)\n    }\n    if (isJson) {\n        return (\n            <div>\n                <button onClick={() => setIsJson(false)} >Use mapper?</button>\n                <Json name={name} value={value} onChange={onChange} />\n            </div>\n        )\n    }\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', border: '2px solid blue', borderRadius: 4, padding: 2 }}>\n            <div style={{ textAlign: 'center' }} onClick={() => setIsJson(!isJson)} >\n                {name}<input type='checkbox' checked={isJson} readOnly />\n            </div>\n            {rows}\n            <button onClick={addRow} >Add Row</button>\n        </div>\n    )\n\n}\n\nconst IdRow = ({ changeId, oid, app, type }) => {\n    const [id, setId] = useState(oid)\n    const [info, setInfo] = useState('')\n    const disMes = (mes) => {\n        setInfo(mes)\n        setTimeout(() => setInfo(''), 2000)\n    }\n    const save = () => {\n        let ids = app.map(a => a.id)\n        if (id.length < 3) {\n            disMes('Id Too Short')\n            return\n        }\n        if (id.includes(',')) {\n            disMes('Comma not allowed')\n            return\n        }\n        if (ids.includes(id)) {\n            disMes('Id in use')\n            return\n        }\n        disMes('Id Changed ')\n        setId('')\n        changeId(id)\n    }\n    return (\n        <>\n            <div style={{ display: 'flex', flexWrap: 'wrap', borderBottom: '1px solid blue' }} >\n                <div style={{ color: 'blue' }}>{`${type}-${oid}`}</div>\n                <EnterInput type='text' value={id} onChange={(e) => setId(e.target.value)}\n                    style={{ width: '80%' }}\n                    onEnter={save}\n                />\n                <div style={{ display: 'flex' }}\n                    onClick={save}>\n                    <MdSave size={20} color='blue' />\n                </div>\n            </div>\n            <div>{info}</div>\n        </>\n    )\n\n}\nconst Properties = ({\n    localProps = {}, type = '', localPropTypes = [], id = '',\n    view = {}, setView = () => { }, setProp = () => { },\n    app = [], setApp, showIdRow = true\n}) => {\n\n    const setFields = () => {\n        let fields = []\n        let types = localPropTypes.map(val => val.type)\n        if (!types.includes(type)) {\n            fields.push(<Pm>No props</Pm>)\n            return fields;\n        }\n        let props = localPropTypes[types.indexOf(type)].props\n        props.forEach(({ name, prop, type, value }, pos) => {\n            if(type==='event')return\n            let comp = <Pm>Unkown</Pm>\n            if (type === 'text') {\n                comp = <Text key={view.id + name} name={name} value={localProps[prop]} onChange={(text) => setProp(prop, text)} />\n            }\n            if (type === 'number') {\n                comp = <NumberInput key={view.id + name} name={name} defaultValue={value} value={localProps[prop]} onChange={(no) => setProp(prop, no)} />\n            }\n            if (type === 'bool') {\n                comp = <Bool key={view.id + name} name={name} value={localProps[prop]} onChange={(bool) => { setProp(prop, bool) }} />\n            }\n            if (type.startsWith('select')) {\n                let options = type.split(',');\n                options.splice(0, 1)\n                comp = <SelectWrap key={view.id + name} name={name} options={options} value={localProps[prop]} onChange={(opt) => { setProp(prop, opt) }} />\n            }\n            if (type === 'color') {\n                comp = <Color key={view.id + name} name={name} color={localProps[prop]} onChange={(col) => setProp(prop, col.hex)} />\n            }\n            if (type === 'comps') {\n                comp = <Comps key={view.id + name} name={name} values={localProps[prop]} app={app} onChange={(vals, add) => setProp(prop, vals, add)} />\n            }\n\n            if (type === 'comp') {\n                comp = <Comp key={view.id + name} name={name} values={localProps[prop]} app={app} onChange={(vals, add) => setProp(prop, vals, add)} />\n            }\n            if (type === 'json') {\n                comp = <Json key={view.id + name} name={name} value={localProps[prop]} onChange={(text) => setProp(prop, text)} />\n            }\n            if (type === 'conditional') {\n                comp = <Conditional key={view.id + name} name={name} value={localProps[prop]} props={localProps} onChange={(data, add) => setProp(prop, data, add)} />\n            }\n            if (type === 'html') {\n                comp = <Html key={view.id + name} name={name} value={localProps[prop]} onChange={(val) => setProp(prop, val)} />\n            }\n            if (type === 'children') {\n                comp = <Comps passChild={true} key={view.id + name} name={name} values={localProps[prop]} app={app} onChange={(vals, add) => setProp(prop, vals, add)} />\n            }\n            if (type === 'child') {\n                comp = <Comp passChild={true} key={view.id + name} name={name} values={localProps[prop]} app={app} onChange={(vals, add) => setProp(prop, vals, add)} />\n            }\n            if (type.startsWith('mapdata,')) {\n                let typeOps = type.split('mapdata,')[1]\n                try {\n                    typeOps = JSON.parse(typeOps)\n                } catch (e) {\n                    try {\n                        typeOps = localProps['FormatInfo']\n                    } catch (e) {\n                        console.log('mapdata error', e.message)\n                        typeOps = {}\n                    }\n                }\n                comp = <MapData key={view.id + name} name={name} types={typeOps} value={localProps[prop]} onChange={(val) => setProp(prop, val)} />\n            }\n            if (type === 'res') {\n                comp = <Res key={view.id + name} name={name} value={localProps[prop]} onChange={(text) => setProp(prop, text)} />\n            }\n            fields.push(comp)\n        })\n        return fields;\n\n    }\n    //also used in outline paste tree\n    const replaceId = (tree, oid, nid) => {\n        tree.forEach(c => {\n            for (let p in c.props) {\n                if (Array.isArray(c.props[p])) {\n                    c.props[p].forEach((child, index) => {\n                        if (child === oid) {\n                            c.props[p][index] = nid\n                        }\n                        if (typeof child === 'string' && child.includes(',')) {\n                            let part = child.split(',')\n                            if (part[1] === oid) {\n                                c.props[p][index] = `${part[0]},${nid}`\n                            }\n                        }\n                    })\n                    if (p === 'Routes' && Array.isArray(c.props[p])) {//deal with condlist\n                        c.props[p].forEach(cond => {\n                            if (Array.isArray(cond)) {\n                                if (cond[1] && cond[1] === oid) {\n                                    cond[1] = nid\n                                }\n                            }\n                        })\n                    }\n                }\n            }\n        })\n    }\n    const changeId = (newId) => {\n        let tmpView = { ...view }\n        tmpView.id = newId\n        let tmpApp = JSON.parse(JSON.stringify(app))\n        let ids = app.map(m => m.id)\n        let pos = ids.indexOf(view.id)\n        tmpApp[pos] = tmpView\n        replaceId(tmpApp, view.id, newId)\n        setApp(tmpApp)\n\n    }\n\n    return (\n        <div >\n            {showIdRow && <IdRow changeId={changeId} oid={view.id} type={view.name} app={app} />}\n            {setFields()}\n        </div>\n    )\n}\n\nexport default Properties\n\n","import React, { useState, useEffect } from 'react'\nimport { Scrollbars } from 'react-custom-scrollbars'\n\nconst scrollData = {}\n\nconst Tab = ({ data = [], pos = 0, setPos, id = '' }) => {\n    const [statepos, rawsetPos] = useState(pos);\n    let realPos = statepos\n    if (setPos) realPos = pos\n    useEffect(() => {\n        try {\n            let tab = tabRef.current\n            tab.view.onscroll = () => {\n                scrollData[id + realPos] = tab.view.scrollTop\n            }\n            tab.view.scrollTop = scrollData[id + realPos]||0\n        } catch (e) {\n            console.log('tab ref error ', e)\n        }\n    })\n\n    const ssetPos = (idx) => {\n        if (typeof setPos === 'function') {\n            setPos(idx)\n        } else {\n            rawsetPos(idx)\n        }\n    }\n\n    const Title = ({ title = '', index = 0 }) => {\n        let bkcolor = index === realPos ? 'rgb(92, 77, 54)' : 'black';\n        return (\n            <div onClick={(e) => {\n                e.stopPropagation();\n                e.preventDefault();\n                ssetPos(index)\n            }}\n                style={{ color: 'white', fontWeight: 'bold', paddingLeft: 2, paddingRight: 2, backgroundColor: bkcolor, border: '1px solid grey' }}\n            >{title}\n            </div>\n        )\n    }\n    const tabRef = React.useRef()\n    return (\n        <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n           <Scrollbars style={{width:'100%',height:28}}> \n               <div style={{ display: 'flex',width: '100%', backgroundColor: 'grey',marginBottom:5}}>\n                {data.map((val, index) =>\n                    <Title key={val.title} title={val.title} index={index} />)}\n            </div>\n            </Scrollbars>\n            <Scrollbars style={{ width: '100%', flex: 1 }} ref={tabRef}  >\n                <div style={{ position: 'relative' }}>\n                    {data[realPos].comp}\n                </div>\n            </Scrollbars>\n        </div>\n    )\n}\n\nexport default Tab"],"sourceRoot":""}